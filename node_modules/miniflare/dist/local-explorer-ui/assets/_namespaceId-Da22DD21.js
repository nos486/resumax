var Qs=Object.defineProperty;var ei=(e,t,n)=>t in e?Qs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Oe=(e,t,n)=>ei(e,typeof t!="symbol"?t+"":t,n);import{r as i,p as Ut,u as et,a as ti,b as ae,g as $e,N as mo,i as zt,A as ni,c as ri,d as Pe,e as Dt,j as T,f as Yt,h as ht,k as ge,l as It,E as ze,m as te,n as oi,o as _e,q as un,s as Jn,t as st,v as De,w as Qn,x as Ye,y as mt,z as Ct,B as xe,C as rt,D as wr,F as er,G as tr,H as bt,I as at,J as si,K as go,L as ii,M as wn,O as nr,P as ai,Q as vt,R as ci,T as li,U as ho,V as ui,W as rr,X as Zt,Y as an,Z as fn,_ as bo,$ as Rr,a0 as or,a1 as Rn,a2 as fi,a3 as Sn,a4 as dt,a5 as $n,a6 as yo,a7 as _t,a8 as xo,a9 as di,aa as pi,ab as mi,ac as gi,ad as hi,ae as bi,af as Sr,ag as yi,ah as Cr}from"./index-D4BoxzYb.js";const xi=500,vi=500,Ei={style:{transition:"none"}},wi="data-base-ui-click-trigger",Ri={fallbackAxisSide:"none"},Si={fallbackAxisSide:"end"},Ci={clipPath:"inset(50%)",position:"fixed",top:0,left:0},Ti=new Map([["bold",i.createElement(i.Fragment,null,i.createElement("path",{d:"M232.49,80.49l-128,128a12,12,0,0,1-17,0l-56-56a12,12,0,1,1,17-17L96,183,215.51,63.51a12,12,0,0,1,17,17Z"}))],["duotone",i.createElement(i.Fragment,null,i.createElement("path",{d:"M232,56V200a16,16,0,0,1-16,16H40a16,16,0,0,1-16-16V56A16,16,0,0,1,40,40H216A16,16,0,0,1,232,56Z",opacity:"0.2"}),i.createElement("path",{d:"M205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z"}))],["fill",i.createElement(i.Fragment,null,i.createElement("path",{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM205.66,85.66l-96,96a8,8,0,0,1-11.32,0l-40-40a8,8,0,0,1,11.32-11.32L104,164.69l90.34-90.35a8,8,0,0,1,11.32,11.32Z"}))],["light",i.createElement(i.Fragment,null,i.createElement("path",{d:"M228.24,76.24l-128,128a6,6,0,0,1-8.48,0l-56-56a6,6,0,0,1,8.48-8.48L96,191.51,219.76,67.76a6,6,0,0,1,8.48,8.48Z"}))],["regular",i.createElement(i.Fragment,null,i.createElement("path",{d:"M229.66,77.66l-128,128a8,8,0,0,1-11.32,0l-56-56a8,8,0,0,1,11.32-11.32L96,188.69,218.34,66.34a8,8,0,0,1,11.32,11.32Z"}))],["thin",i.createElement(i.Fragment,null,i.createElement("path",{d:"M226.83,74.83l-128,128a4,4,0,0,1-5.66,0l-56-56a4,4,0,0,1,5.66-5.66L96,194.34,221.17,69.17a4,4,0,1,1,5.66,5.66Z"}))]]),Oi=new Map([["bold",i.createElement(i.Fragment,null,i.createElement("path",{d:"M216,28H88A12,12,0,0,0,76,40V76H40A12,12,0,0,0,28,88V216a12,12,0,0,0,12,12H168a12,12,0,0,0,12-12V180h36a12,12,0,0,0,12-12V40A12,12,0,0,0,216,28ZM156,204H52V100H156Zm48-48H180V88a12,12,0,0,0-12-12H100V52H204Z"}))],["duotone",i.createElement(i.Fragment,null,i.createElement("path",{d:"M216,40V168H168V88H88V40Z",opacity:"0.2"}),i.createElement("path",{d:"M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"}))],["fill",i.createElement(i.Fragment,null,i.createElement("path",{d:"M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32Zm-8,128H176V88a8,8,0,0,0-8-8H96V48H208Z"}))],["light",i.createElement(i.Fragment,null,i.createElement("path",{d:"M216,34H88a6,6,0,0,0-6,6V82H40a6,6,0,0,0-6,6V216a6,6,0,0,0,6,6H168a6,6,0,0,0,6-6V174h42a6,6,0,0,0,6-6V40A6,6,0,0,0,216,34ZM162,210H46V94H162Zm48-48H174V88a6,6,0,0,0-6-6H94V46H210Z"}))],["regular",i.createElement(i.Fragment,null,i.createElement("path",{d:"M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"}))],["thin",i.createElement(i.Fragment,null,i.createElement("path",{d:"M216,36H88a4,4,0,0,0-4,4V84H40a4,4,0,0,0-4,4V216a4,4,0,0,0,4,4H168a4,4,0,0,0,4-4V172h44a4,4,0,0,0,4-4V40A4,4,0,0,0,216,36ZM164,212H44V92H164Zm48-48H172V88a4,4,0,0,0-4-4H92V44H212Z"}))]]),Mi=new Map([["bold",i.createElement(i.Fragment,null,i.createElement("path",{d:"M144,128a16,16,0,1,1-16-16A16,16,0,0,1,144,128ZM60,112a16,16,0,1,0,16,16A16,16,0,0,0,60,112Zm136,0a16,16,0,1,0,16,16A16,16,0,0,0,196,112Z"}))],["duotone",i.createElement(i.Fragment,null,i.createElement("path",{d:"M240,96v64a16,16,0,0,1-16,16H32a16,16,0,0,1-16-16V96A16,16,0,0,1,32,80H224A16,16,0,0,1,240,96Z",opacity:"0.2"}),i.createElement("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm56-12a12,12,0,1,0,12,12A12,12,0,0,0,196,116ZM60,116a12,12,0,1,0,12,12A12,12,0,0,0,60,116Z"}))],["fill",i.createElement(i.Fragment,null,i.createElement("path",{d:"M224,80H32A16,16,0,0,0,16,96v64a16,16,0,0,0,16,16H224a16,16,0,0,0,16-16V96A16,16,0,0,0,224,80ZM60,140a12,12,0,1,1,12-12A12,12,0,0,1,60,140Zm68,0a12,12,0,1,1,12-12A12,12,0,0,1,128,140Zm68,0a12,12,0,1,1,12-12A12,12,0,0,1,196,140Z"}))],["light",i.createElement(i.Fragment,null,i.createElement("path",{d:"M138,128a10,10,0,1,1-10-10A10,10,0,0,1,138,128ZM60,118a10,10,0,1,0,10,10A10,10,0,0,0,60,118Zm136,0a10,10,0,1,0,10,10A10,10,0,0,0,196,118Z"}))],["regular",i.createElement(i.Fragment,null,i.createElement("path",{d:"M140,128a12,12,0,1,1-12-12A12,12,0,0,1,140,128Zm56-12a12,12,0,1,0,12,12A12,12,0,0,0,196,116ZM60,116a12,12,0,1,0,12,12A12,12,0,0,0,60,116Z"}))],["thin",i.createElement(i.Fragment,null,i.createElement("path",{d:"M136,128a8,8,0,1,1-8-8A8,8,0,0,1,136,128Zm-76-8a8,8,0,1,0,8,8A8,8,0,0,0,60,120Zm136,0a8,8,0,1,0,8,8A8,8,0,0,0,196,120Z"}))]]),Pi=new Map([["bold",i.createElement(i.Fragment,null,i.createElement("path",{d:"M230.14,70.54,185.46,25.85a20,20,0,0,0-28.29,0L33.86,149.17A19.85,19.85,0,0,0,28,163.31V208a20,20,0,0,0,20,20H92.69a19.86,19.86,0,0,0,14.14-5.86L230.14,98.82a20,20,0,0,0,0-28.28ZM93,180l71-71,11,11-71,71ZM76,163,65,152l71-71,11,11ZM52,173l15.51,15.51h0L83,204H52ZM192,103,153,64l18.34-18.34,39,39Z"}))],["duotone",i.createElement(i.Fragment,null,i.createElement("path",{d:"M221.66,90.34,192,120,136,64l29.66-29.66a8,8,0,0,1,11.31,0L221.66,79A8,8,0,0,1,221.66,90.34Z",opacity:"0.2"}),i.createElement("path",{d:"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM51.31,160,136,75.31,152.69,92,68,176.68ZM48,179.31,76.69,208H48Zm48,25.38L79.31,188,164,103.31,180.69,120Zm96-96L147.31,64l24-24L216,84.68Z"}))],["fill",i.createElement(i.Fragment,null,i.createElement("path",{d:"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM51.31,160l90.35-90.35,16.68,16.69L68,176.68ZM48,179.31,76.69,208H48Zm48,25.38L79.31,188l90.35-90.35h0l16.68,16.69Z"}))],["light",i.createElement(i.Fragment,null,i.createElement("path",{d:"M225.9,74.78,181.21,30.09a14,14,0,0,0-19.8,0L38.1,153.41a13.94,13.94,0,0,0-4.1,9.9V208a14,14,0,0,0,14,14H92.69a13.94,13.94,0,0,0,9.9-4.1L225.9,94.58a14,14,0,0,0,0-19.8ZM48.49,160,136,72.48,155.51,92,68,179.51ZM46,208V174.48L81.51,210H48A2,2,0,0,1,46,208Zm50-.49L76.49,188,164,100.48,183.51,120ZM217.41,86.1,192,111.51,144.49,64,169.9,38.58a2,2,0,0,1,2.83,0l44.68,44.69a2,2,0,0,1,0,2.83Z"}))],["regular",i.createElement(i.Fragment,null,i.createElement("path",{d:"M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM51.31,160,136,75.31,152.69,92,68,176.68ZM48,179.31,76.69,208H48Zm48,25.38L79.31,188,164,103.31,180.69,120Zm96-96L147.31,64l24-24L216,84.68Z"}))],["thin",i.createElement(i.Fragment,null,i.createElement("path",{d:"M224.49,76.2,179.8,31.51a12,12,0,0,0-17,0L39.52,154.83A11.9,11.9,0,0,0,36,163.31V208a12,12,0,0,0,12,12H92.69a12,12,0,0,0,8.48-3.51L224.48,93.17a12,12,0,0,0,0-17ZM45.66,160,136,69.65,158.34,92,68,182.34ZM44,208V169.66l21.17,21.17h0L86.34,212H48A4,4,0,0,1,44,208Zm52,2.34L73.66,188,164,97.65,186.34,120ZM218.83,87.51,192,114.34,141.66,64l26.82-26.83a4,4,0,0,1,5.66,0l44.69,44.68a4,4,0,0,1,0,5.66Z"}))]]),Ii=new Map([["bold",i.createElement(i.Fragment,null,i.createElement("path",{d:"M216,48H180V36A28,28,0,0,0,152,8H104A28,28,0,0,0,76,36V48H40a12,12,0,0,0,0,24h4V208a20,20,0,0,0,20,20H192a20,20,0,0,0,20-20V72h4a12,12,0,0,0,0-24ZM100,36a4,4,0,0,1,4-4h48a4,4,0,0,1,4,4V48H100Zm88,168H68V72H188ZM116,104v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Zm48,0v64a12,12,0,0,1-24,0V104a12,12,0,0,1,24,0Z"}))],["duotone",i.createElement(i.Fragment,null,i.createElement("path",{d:"M200,56V208a8,8,0,0,1-8,8H64a8,8,0,0,1-8-8V56Z",opacity:"0.2"}),i.createElement("path",{d:"M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"}))],["fill",i.createElement(i.Fragment,null,i.createElement("path",{d:"M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM112,168a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm0-120H96V40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8Z"}))],["light",i.createElement(i.Fragment,null,i.createElement("path",{d:"M216,50H174V40a22,22,0,0,0-22-22H104A22,22,0,0,0,82,40V50H40a6,6,0,0,0,0,12H50V208a14,14,0,0,0,14,14H192a14,14,0,0,0,14-14V62h10a6,6,0,0,0,0-12ZM94,40a10,10,0,0,1,10-10h48a10,10,0,0,1,10,10V50H94ZM194,208a2,2,0,0,1-2,2H64a2,2,0,0,1-2-2V62H194ZM110,104v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Zm48,0v64a6,6,0,0,1-12,0V104a6,6,0,0,1,12,0Z"}))],["regular",i.createElement(i.Fragment,null,i.createElement("path",{d:"M216,48H176V40a24,24,0,0,0-24-24H104A24,24,0,0,0,80,40v8H40a8,8,0,0,0,0,16h8V208a16,16,0,0,0,16,16H192a16,16,0,0,0,16-16V64h8a8,8,0,0,0,0-16ZM96,40a8,8,0,0,1,8-8h48a8,8,0,0,1,8,8v8H96Zm96,168H64V64H192ZM112,104v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Zm48,0v64a8,8,0,0,1-16,0V104a8,8,0,0,1,16,0Z"}))],["thin",i.createElement(i.Fragment,null,i.createElement("path",{d:"M216,52H172V40a20,20,0,0,0-20-20H104A20,20,0,0,0,84,40V52H40a4,4,0,0,0,0,8H52V208a12,12,0,0,0,12,12H192a12,12,0,0,0,12-12V60h12a4,4,0,0,0,0-8ZM92,40a12,12,0,0,1,12-12h48a12,12,0,0,1,12,12V52H92ZM196,208a4,4,0,0,1-4,4H64a4,4,0,0,1-4-4V60H196ZM108,104v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Zm48,0v64a4,4,0,0,1-8,0V104a4,4,0,0,1,8,0Z"}))]]),vo=i.forwardRef((e,t)=>i.createElement(Ut,{ref:t,...e,weights:Ti}));vo.displayName="CheckIcon";const Eo=i.forwardRef((e,t)=>i.createElement(Ut,{ref:t,...e,weights:Oi}));Eo.displayName="CopyIcon";const wo=i.forwardRef((e,t)=>i.createElement(Ut,{ref:t,...e,weights:Mi}));wo.displayName="DotsThreeIcon";const Ro=i.forwardRef((e,t)=>i.createElement(Ut,{ref:t,...e,weights:Pi}));Ro.displayName="PencilIcon";const So=i.forwardRef((e,t)=>i.createElement(Ut,{ref:t,...e,weights:Ii}));So.displayName="TrashIcon";const Vt=typeof navigator<"u",An=Li(),Co=Fi(),To=Ni(),ki=typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter:none"),Oo=An.platform==="MacIntel"&&An.maxTouchPoints>1?!0:/iP(hone|ad|od)|iOS/.test(An.platform),Mo=Vt&&/apple/i.test(navigator.vendor),Wn=Vt&&/android/i.test(Co)||/android/i.test(To),Ai=Vt&&Co.toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints,Po=To.includes("jsdom/");function Li(){if(!Vt)return{platform:"",maxTouchPoints:-1};const e=navigator.userAgentData;return e!=null&&e.platform?{platform:e.platform,maxTouchPoints:navigator.maxTouchPoints}:{platform:navigator.platform??"",maxTouchPoints:navigator.maxTouchPoints??-1}}function Ni(){if(!Vt)return"";const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(({brand:t,version:n})=>`${t}/${n}`).join(" "):navigator.userAgent}function Fi(){if(!Vt)return"";const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform??""}function tt(e){return(e==null?void 0:e.ownerDocument)||document}const Bt=0;class yt{constructor(){Oe(this,"currentId",Bt);Oe(this,"clear",()=>{this.currentId!==Bt&&(clearTimeout(this.currentId),this.currentId=Bt)});Oe(this,"disposeEffect",()=>this.clear)}static create(){return new yt}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=Bt,n()},t)}isStarted(){return this.currentId!==Bt}}function Be(){const e=et(yt.create).current;return ti(e.disposeEffect),e}let Tr={},Or={},Mr="";function Di(e){if(typeof document>"u")return!1;const t=tt(e);return $e(t).innerWidth-t.documentElement.clientWidth>0}function Vi(e){if(!(typeof CSS<"u"&&CSS.supports&&CSS.supports("scrollbar-gutter","stable"))||typeof document>"u")return!1;const r=tt(e).documentElement,o={scrollbarGutter:r.style.scrollbarGutter,overflowY:r.style.overflowY};r.style.scrollbarGutter="stable",r.style.overflowY="scroll";const s=r.offsetWidth;r.style.overflowY="hidden";const a=r.offsetWidth;return Object.assign(r.style,o),s===a}function Hi(e){const t=tt(e),n=t.documentElement,r=t.body,o=zt(n)?n:r,s=o.style.overflow;return o.style.overflow="hidden",()=>{o.style.overflow=s}}function ji(e){var b;const t=tt(e),n=t.documentElement,r=t.body,o=$e(n);let s=0,a=0,c=!1;const u=ni.create();if(ki&&(((b=o.visualViewport)==null?void 0:b.scale)??1)!==1)return()=>{};function l(){const m=o.getComputedStyle(n),p=o.getComputedStyle(r),h=(m.scrollbarGutter||"").includes("both-edges")?"stable both-edges":"stable";s=n.scrollTop,a=n.scrollLeft,Tr={scrollbarGutter:n.style.scrollbarGutter,overflowY:n.style.overflowY,overflowX:n.style.overflowX},Mr=n.style.scrollBehavior,Or={position:r.style.position,height:r.style.height,width:r.style.width,boxSizing:r.style.boxSizing,overflowY:r.style.overflowY,overflowX:r.style.overflowX,scrollBehavior:r.style.scrollBehavior};const y=n.scrollHeight>n.clientHeight,v=n.scrollWidth>n.clientWidth,w=m.overflowY==="scroll"||p.overflowY==="scroll",x=m.overflowX==="scroll"||p.overflowX==="scroll",M=Math.max(0,o.innerWidth-r.clientWidth),I=Math.max(0,o.innerHeight-r.clientHeight),k=parseFloat(p.marginTop)+parseFloat(p.marginBottom),D=parseFloat(p.marginLeft)+parseFloat(p.marginRight),N=zt(n)?n:r;if(c=Vi(e),c){n.style.scrollbarGutter=h,N.style.overflowY="hidden",N.style.overflowX="hidden";return}Object.assign(n.style,{scrollbarGutter:h,overflowY:"hidden",overflowX:"hidden"}),(y||w)&&(n.style.overflowY="scroll"),(v||x)&&(n.style.overflowX="scroll"),Object.assign(r.style,{position:"relative",height:k||I?`calc(100dvh - ${k+I}px)`:"100dvh",width:D||M?`calc(100vw - ${D+M}px)`:"100vw",boxSizing:"border-box",overflow:"hidden",scrollBehavior:"unset"}),r.scrollTop=s,r.scrollLeft=a,n.setAttribute("data-base-ui-scroll-locked",""),n.style.scrollBehavior="unset"}function d(){Object.assign(n.style,Tr),Object.assign(r.style,Or),c||(n.scrollTop=s,n.scrollLeft=a,n.removeAttribute("data-base-ui-scroll-locked"),n.style.scrollBehavior=Mr)}function f(){d(),u.request(l)}return l(),o.addEventListener("resize",f),()=>{u.cancel(),d(),typeof o.removeEventListener=="function"&&o.removeEventListener("resize",f)}}class Bi{constructor(){Oe(this,"lockCount",0);Oe(this,"restore",null);Oe(this,"timeoutLock",yt.create());Oe(this,"timeoutUnlock",yt.create());Oe(this,"release",()=>{this.lockCount-=1,this.lockCount===0&&this.restore&&this.timeoutUnlock.start(0,this.unlock)});Oe(this,"unlock",()=>{var t;this.lockCount===0&&this.restore&&((t=this.restore)==null||t.call(this),this.restore=null)})}acquire(t){return this.lockCount+=1,this.lockCount===1&&this.restore===null&&this.timeoutLock.start(0,()=>this.lock(t)),this.release}lock(t){if(this.lockCount===0||this.restore!==null)return;const r=tt(t).documentElement,o=$e(r).getComputedStyle(r).overflowY;if(o==="hidden"||o==="clip"){this.restore=mo;return}const s=Oo||!Di(t);this.restore=s?Hi(t):ji(t)}}const _i=new Bi;function Io(e=!0,t=null){ae(()=>{if(e)return _i.acquire(t)},[e,t])}function Ne(e){const t=et(Zi,e).current;return t.next=e,ae(t.effect),t}function Zi(e){const t={current:e,next:e,effect:()=>{t.current=t.next}};return t}const Kn="data-base-ui-focusable",ko="active",Ao="selected",Lo="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])",ct="ArrowLeft",lt="ArrowRight",sr="ArrowUp",Gt="ArrowDown";function Ge(e){var n;let t=e.activeElement;for(;((n=t==null?void 0:t.shadowRoot)==null?void 0:n.activeElement)!=null;)t=t.shadowRoot.activeElement;return t}function pe(e,t){var r;if(!e||!t)return!1;const n=(r=t.getRootNode)==null?void 0:r.call(t);if(e.contains(t))return!0;if(n&&ri(n)){let o=t;for(;o;){if(e===o)return!0;o=o.parentNode||o.host}}return!1}function Fe(e){return"composedPath"in e?e.composedPath()[0]:e.target}function Ue(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function $i(e){return e.matches("html,body")}function Ce(e){return(e==null?void 0:e.ownerDocument)||document}function ir(e){return Pe(e)&&e.matches(Lo)}function Un(e){return e?e.getAttribute("role")==="combobox"&&ir(e):!1}function Wi(e){if(!e||Po)return!0;try{return e.matches(":focus-visible")}catch{return!0}}function dn(e){return e?e.hasAttribute(Kn)?e:e.querySelector(`[${Kn}]`)||e:null}function gt(e,t,n=!0){return e.filter(o=>{var s;return o.parentId===t&&(!n||((s=o.context)==null?void 0:s.open))}).flatMap(o=>[o,...gt(e,o.id,n)])}function Pr(e,t){var o;let n=[],r=(o=e.find(s=>s.id===t))==null?void 0:o.parentId;for(;r;){const s=e.find(a=>a.id===r);r=s==null?void 0:s.parentId,s&&(n=n.concat(s))}return n}function Le(e){e.preventDefault(),e.stopPropagation()}function Ki(e){return"nativeEvent"in e}function No(e){return e.mozInputSource===0&&e.isTrusted?!0:Wn&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function Fo(e){return Po?!1:!Wn&&e.width===0&&e.height===0||Wn&&e.width===1&&e.height===1&&e.pressure===0&&e.detail===0&&e.pointerType==="mouse"||e.width<1&&e.height<1&&e.pressure===0&&e.detail===0&&e.pointerType==="touch"}function kt(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}function Do(e){const t=e.type;return t==="click"||t==="mousedown"||t==="keydown"||t==="keyup"}const Ui=["top","right","bottom","left"],At=Math.min,He=Math.max,pn=Math.round,St=Math.floor,qe=e=>({x:e,y:e}),zi={left:"right",right:"left",bottom:"top",top:"bottom"},Yi={start:"end",end:"start"};function zn(e,t,n){return He(e,At(t,n))}function nt(e,t){return typeof e=="function"?e(t):e}function je(e){return e.split("-")[0]}function ut(e){return e.split("-")[1]}function ar(e){return e==="x"?"y":"x"}function cr(e){return e==="y"?"height":"width"}const Gi=new Set(["top","bottom"]);function Ze(e){return Gi.has(je(e))?"y":"x"}function lr(e){return ar(Ze(e))}function Xi(e,t,n){n===void 0&&(n=!1);const r=ut(e),o=lr(e),s=cr(o);let a=o==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=mn(a)),[a,mn(a)]}function qi(e){const t=mn(e);return[Yn(e),t,Yn(t)]}function Yn(e){return e.replace(/start|end/g,t=>Yi[t])}const Ir=["left","right"],kr=["right","left"],Ji=["top","bottom"],Qi=["bottom","top"];function ea(e,t,n){switch(e){case"top":case"bottom":return n?t?kr:Ir:t?Ir:kr;case"left":case"right":return t?Ji:Qi;default:return[]}}function ta(e,t,n,r){const o=ut(e);let s=ea(je(e),n==="start",r);return o&&(s=s.map(a=>a+"-"+o),t&&(s=s.concat(s.map(Yn)))),s}function mn(e){return e.replace(/left|right|bottom|top/g,t=>zi[t])}function na(e){return{top:0,right:0,bottom:0,left:0,...e}}function Vo(e){return typeof e!="number"?na(e):{top:e,right:e,bottom:e,left:e}}function gn(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}function Qt(e,t,n){return Math.floor(e/t)!==n}function $t(e,t){return t<0||t>=e.current.length}function Ln(e,t){return Ae(e,{disabledIndices:t})}function Ar(e,t){return Ae(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function Ae(e,{startingIndex:t=-1,decrement:n=!1,disabledIndices:r,amount:o=1}={}){let s=t;do s+=n?-o:o;while(s>=0&&s<=e.current.length-1&&Wt(e,s,r));return s}function ra(e,{event:t,orientation:n,loopFocus:r,rtl:o,cols:s,disabledIndices:a,minIndex:c,maxIndex:u,prevIndex:l,stopEvent:d=!1}){let f=l;const b=[],m={};let p=!1;{let h=null,y=-1;e.current.forEach((v,w)=>{if(v==null)return;const x=v.closest('[role="row"]');x&&(p=!0),(x!==h||y===-1)&&(h=x,y+=1,b[y]=[]),b[y].push(w),m[w]=y})}const g=p&&b.length>0&&b.some(h=>h.length!==s);function E(h){if(!g||l===-1)return;const y=m[l];if(y==null)return;const v=b[y].indexOf(l);let w=h==="up"?y-1:y+1;r&&(w<0?w=b.length-1:w>=b.length&&(w=0));const x=new Set;for(;w>=0&&w<b.length&&!x.has(w);){x.add(w);const M=b[w];if(M.length===0){w=h==="up"?w-1:w+1;continue}const I=Math.min(v,M.length-1);for(let k=I;k>=0;k-=1){const D=M[k];if(!Wt(e,D,a))return D}w=h==="up"?w-1:w+1,r&&(w<0?w=b.length-1:w>=b.length&&(w=0))}}if(t.key===sr){const h=E("up");if(h!==void 0)d&&Le(t),f=h;else{if(d&&Le(t),l===-1)f=u;else if(f=Ae(e,{startingIndex:f,amount:s,decrement:!0,disabledIndices:a}),r&&(l-s<c||f<0)){const y=l%s,v=u%s,w=u-(v-y);v===y?f=u:f=v>y?w:w-s}$t(e,f)&&(f=l)}}if(t.key===Gt){const h=E("down");h!==void 0?(d&&Le(t),f=h):(d&&Le(t),l===-1?f=c:(f=Ae(e,{startingIndex:l,amount:s,disabledIndices:a}),r&&l+s>u&&(f=Ae(e,{startingIndex:l%s-s,amount:s,disabledIndices:a}))),$t(e,f)&&(f=l))}if(n==="both"){const h=St(l/s);t.key===(o?ct:lt)&&(d&&Le(t),l%s!==s-1?(f=Ae(e,{startingIndex:l,disabledIndices:a}),r&&Qt(f,s,h)&&(f=Ae(e,{startingIndex:l-l%s-1,disabledIndices:a}))):r&&(f=Ae(e,{startingIndex:l-l%s-1,disabledIndices:a})),Qt(f,s,h)&&(f=l)),t.key===(o?lt:ct)&&(d&&Le(t),l%s!==0?(f=Ae(e,{startingIndex:l,decrement:!0,disabledIndices:a}),r&&Qt(f,s,h)&&(f=Ae(e,{startingIndex:l+(s-l%s),decrement:!0,disabledIndices:a}))):r&&(f=Ae(e,{startingIndex:l+(s-l%s),decrement:!0,disabledIndices:a})),Qt(f,s,h)&&(f=l));const y=St(u/s)===h;$t(e,f)&&(r&&y?f=t.key===(o?lt:ct)?u:Ae(e,{startingIndex:l-l%s-1,disabledIndices:a}):f=l)}return f}function oa(e,t,n){const r=[];let o=0;return e.forEach(({width:s,height:a},c)=>{let u=!1;for(n&&(o=0);!u;){const l=[];for(let d=0;d<s;d+=1)for(let f=0;f<a;f+=1)l.push(o+d+f*t);o%t+s<=t&&l.every(d=>r[d]==null)?(l.forEach(d=>{r[d]=c}),u=!0):o+=1}}),[...r]}function sa(e,t,n,r,o){if(e===-1)return-1;const s=n.indexOf(e),a=t[e];switch(o){case"tl":return s;case"tr":return a?s+a.width-1:s;case"bl":return a?s+(a.height-1)*r:s;case"br":return n.lastIndexOf(e);default:return-1}}function ia(e,t){return t.flatMap((n,r)=>e.includes(n)?[r]:[])}function Wt(e,t,n){if(typeof n=="function")return n(t);if(n)return n.includes(t);const r=e.current[t];return r?r.hasAttribute("disabled")||r.getAttribute("aria-disabled")==="true":!1}/*!
* tabbable 6.4.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var aa=["input:not([inert]):not([inert] *)","select:not([inert]):not([inert] *)","textarea:not([inert]):not([inert] *)","a[href]:not([inert]):not([inert] *)","button:not([inert]):not([inert] *)","[tabindex]:not(slot):not([inert]):not([inert] *)","audio[controls]:not([inert]):not([inert] *)","video[controls]:not([inert]):not([inert] *)",'[contenteditable]:not([contenteditable="false"]):not([inert]):not([inert] *)',"details>summary:first-of-type:not([inert]):not([inert] *)","details:not([inert]):not([inert] *)"],hn=aa.join(","),Ho=typeof Element>"u",Lt=Ho?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,bn=!Ho&&Element.prototype.getRootNode?function(e){var t;return e==null||(t=e.getRootNode)===null||t===void 0?void 0:t.call(e)}:function(e){return e==null?void 0:e.ownerDocument},yn=function(t,n){var r;n===void 0&&(n=!0);var o=t==null||(r=t.getAttribute)===null||r===void 0?void 0:r.call(t,"inert"),s=o===""||o==="true",a=s||n&&t&&(typeof t.closest=="function"?t.closest("[inert]"):yn(t.parentNode));return a},ca=function(t){var n,r=t==null||(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"contenteditable");return r===""||r==="true"},jo=function(t,n,r){if(yn(t))return[];var o=Array.prototype.slice.apply(t.querySelectorAll(hn));return n&&Lt.call(t,hn)&&o.unshift(t),o=o.filter(r),o},xn=function(t,n,r){for(var o=[],s=Array.from(t);s.length;){var a=s.shift();if(!yn(a,!1))if(a.tagName==="SLOT"){var c=a.assignedElements(),u=c.length?c:a.children,l=xn(u,!0,r);r.flatten?o.push.apply(o,l):o.push({scopeParent:a,candidates:l})}else{var d=Lt.call(a,hn);d&&r.filter(a)&&(n||!t.includes(a))&&o.push(a);var f=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),b=!yn(f,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(f&&b){var m=xn(f===!0?a.children:f.children,!0,r);r.flatten?o.push.apply(o,m):o.push({scopeParent:a,candidates:m})}else s.unshift.apply(s,a.children)}}return o},Bo=function(t){return!isNaN(parseInt(t.getAttribute("tabindex"),10))},_o=function(t){if(!t)throw new Error("No node provided");return t.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(t.tagName)||ca(t))&&!Bo(t)?0:t.tabIndex},la=function(t,n){var r=_o(t);return r<0&&n&&!Bo(t)?0:r},ua=function(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex},Zo=function(t){return t.tagName==="INPUT"},fa=function(t){return Zo(t)&&t.type==="hidden"},da=function(t){var n=t.tagName==="DETAILS"&&Array.prototype.slice.apply(t.children).some(function(r){return r.tagName==="SUMMARY"});return n},pa=function(t,n){for(var r=0;r<t.length;r++)if(t[r].checked&&t[r].form===n)return t[r]},ma=function(t){if(!t.name)return!0;var n=t.form||bn(t),r=function(c){return n.querySelectorAll('input[type="radio"][name="'+c+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(t.name));else try{o=r(t.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var s=pa(o,t.form);return!s||s===t},ga=function(t){return Zo(t)&&t.type==="radio"},ha=function(t){return ga(t)&&!ma(t)},ba=function(t){var n,r=t&&bn(t),o=(n=r)===null||n===void 0?void 0:n.host,s=!1;if(r&&r!==t){var a,c,u;for(s=!!((a=o)!==null&&a!==void 0&&(c=a.ownerDocument)!==null&&c!==void 0&&c.contains(o)||t!=null&&(u=t.ownerDocument)!==null&&u!==void 0&&u.contains(t));!s&&o;){var l,d,f;r=bn(o),o=(l=r)===null||l===void 0?void 0:l.host,s=!!((d=o)!==null&&d!==void 0&&(f=d.ownerDocument)!==null&&f!==void 0&&f.contains(o))}}return s},Lr=function(t){var n=t.getBoundingClientRect(),r=n.width,o=n.height;return r===0&&o===0},ya=function(t,n){var r=n.displayCheck,o=n.getShadowRoot;if(r==="full-native"&&"checkVisibility"in t){var s=t.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!s}if(getComputedStyle(t).visibility==="hidden")return!0;var a=Lt.call(t,"details>summary:first-of-type"),c=a?t.parentElement:t;if(Lt.call(c,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="full-native"||r==="legacy-full"){if(typeof o=="function"){for(var u=t;t;){var l=t.parentElement,d=bn(t);if(l&&!l.shadowRoot&&o(l)===!0)return Lr(t);t.assignedSlot?t=t.assignedSlot:!l&&d!==t.ownerDocument?t=d.host:t=l}t=u}if(ba(t))return!t.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Lr(t);return!1},xa=function(t){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(t.tagName))for(var n=t.parentElement;n;){if(n.tagName==="FIELDSET"&&n.disabled){for(var r=0;r<n.children.length;r++){var o=n.children.item(r);if(o.tagName==="LEGEND")return Lt.call(n,"fieldset[disabled] *")?!0:!o.contains(t)}return!0}n=n.parentElement}return!1},Gn=function(t,n){return!(n.disabled||fa(n)||ya(n,t)||da(n)||xa(n))},Xn=function(t,n){return!(ha(n)||_o(n)<0||!Gn(t,n))},va=function(t){var n=parseInt(t.getAttribute("tabindex"),10);return!!(isNaN(n)||n>=0)},$o=function(t){var n=[],r=[];return t.forEach(function(o,s){var a=!!o.scopeParent,c=a?o.scopeParent:o,u=la(c,a),l=a?$o(o.candidates):c;u===0?a?n.push.apply(n,l):n.push(c):r.push({documentOrder:s,tabIndex:u,item:o,isScope:a,content:l})}),r.sort(ua).reduce(function(o,s){return s.isScope?o.push.apply(o,s.content):o.push(s.content),o},[]).concat(n)},Xt=function(t,n){n=n||{};var r;return n.getShadowRoot?r=xn([t],n.includeContainer,{filter:Xn.bind(null,n),flatten:!1,getShadowRoot:n.getShadowRoot,shadowRootFilter:va}):r=jo(t,n.includeContainer,Xn.bind(null,n)),$o(r)},Ea=function(t,n){n=n||{};var r;return n.getShadowRoot?r=xn([t],n.includeContainer,{filter:Gn.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):r=jo(t,n.includeContainer,Gn.bind(null,n)),r},Wo=function(t,n){if(n=n||{},!t)throw new Error("No node provided");return Lt.call(t,hn)===!1?!1:Xn(n,t)};const Ht=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function Ko(e,t){const n=Xt(e,Ht()),r=n.length;if(r===0)return;const o=Ge(Ce(e)),s=n.indexOf(o),a=s===-1?t===1?0:r-1:s+t;return n[a]}function ur(e){return Ko(Ce(e).body,1)||e}function Uo(e){return Ko(Ce(e).body,-1)||e}function zo(e,t){if(!e)return null;const n=Xt(Ce(e).body,Ht()),r=n.length;if(r===0)return null;const o=n.indexOf(e);if(o===-1)return null;const s=(o+t+r)%r;return n[s]}function wa(e){return zo(e,1)}function Ra(e){return zo(e,-1)}function Tt(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!pe(n,r)}function Sa(e){Xt(e,Ht()).forEach(n=>{n.dataset.tabindex=n.getAttribute("tabindex")||"",n.setAttribute("tabindex","-1")})}function Nr(e){e.querySelectorAll("[data-tabindex]").forEach(n=>{const r=n.dataset.tabindex;delete n.dataset.tabindex,r?n.setAttribute("tabindex",r):n.removeAttribute("tabindex")})}function Yo(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(o=>o(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}class fr{constructor(){Oe(this,"nodesRef",{current:[]});Oe(this,"events",Yo())}addNode(t){this.nodesRef.current.push(t)}removeNode(t){const n=this.nodesRef.current.findIndex(r=>r===t);n!==-1&&this.nodesRef.current.splice(n,1)}}const Go=i.createContext(null),Xo=i.createContext(null),ot=()=>{var e;return((e=i.useContext(Go))==null?void 0:e.id)||null},ft=e=>{const t=i.useContext(Xo);return e??t};function qo(e){const t=Dt(),n=ft(e),r=ot();return ae(()=>{if(!t)return;const o={id:t,parentId:r};return n==null||n.addNode(o),()=>{n==null||n.removeNode(o)}},[n,t,r]),t}function Ca(e){const{children:t,id:n}=e,r=ot();return T.jsx(Go.Provider,{value:i.useMemo(()=>({id:n,parentId:r}),[n,r]),children:t})}function Ta(e){const{children:t,externalTree:n}=e,r=et(()=>n??new fr).current;return T.jsx(Xo.Provider,{value:r,children:t})}function Nt(e){return`data-base-ui-${e}`}function Nn(e,t,n){if(n&&!kt(n))return 0;if(typeof e=="number")return e;if(typeof e=="function"){const r=e();return typeof r=="number"?r:r==null?void 0:r[t]}return e==null?void 0:e[t]}const Oa={clipPath:"inset(50%)",overflow:"hidden",whiteSpace:"nowrap",border:0,padding:0,width:1,height:1,margin:-1},Jo={...Oa,position:"fixed",top:0,left:0},Ft=i.forwardRef(function(t,n){const[r,o]=i.useState();ae(()=>{Mo&&o("button")},[]);const s={tabIndex:0,role:r};return T.jsx("span",{...t,ref:n,style:Jo,"aria-hidden":r?void 0:!0,...s,"data-base-ui-focus-guard":""})});let Fr=0;function cn(e,t={}){const{preventScroll:n=!1,cancelPrevious:r=!0,sync:o=!1}=t;r&&cancelAnimationFrame(Fr);const s=()=>e==null?void 0:e.focus({preventScroll:n});o?s():Fr=requestAnimationFrame(s)}const Ot={inert:new WeakMap,"aria-hidden":new WeakMap,none:new WeakMap};function Dr(e){return e==="inert"?Ot.inert:e==="aria-hidden"?Ot["aria-hidden"]:Ot.none}let en=new WeakSet,tn={},Fn=0;const Qo=e=>e&&(e.host||Qo(e.parentNode)),Ma=(e,t)=>t.map(n=>{if(e.contains(n))return n;const r=Qo(n);return e.contains(r)?r:null}).filter(n=>n!=null);function Pa(e,t,n,r){const o="data-base-ui-inert",s=r?"inert":n?"aria-hidden":null,a=Ma(t,e),c=new Set,u=new Set(a),l=[];tn[o]||(tn[o]=new WeakMap);const d=tn[o];a.forEach(f),b(t),c.clear();function f(m){!m||c.has(m)||(c.add(m),m.parentNode&&f(m.parentNode))}function b(m){!m||u.has(m)||[].forEach.call(m.children,p=>{if(Yt(p)!=="script")if(c.has(p))b(p);else{const g=s?p.getAttribute(s):null,E=g!==null&&g!=="false",h=Dr(s),y=(h.get(p)||0)+1,v=(d.get(p)||0)+1;h.set(p,y),d.set(p,v),l.push(p),y===1&&E&&en.add(p),v===1&&p.setAttribute(o,""),!E&&s&&p.setAttribute(s,s==="inert"?"":"true")}})}return Fn+=1,()=>{l.forEach(m=>{const p=Dr(s),E=(p.get(m)||0)-1,h=(d.get(m)||0)-1;p.set(m,E),d.set(m,h),E||(!en.has(m)&&s&&m.removeAttribute(s),en.delete(m)),h||m.removeAttribute(o)}),Fn-=1,Fn||(Ot.inert=new WeakMap,Ot["aria-hidden"]=new WeakMap,Ot.none=new WeakMap,en=new WeakSet,tn={})}}function Ia(e,t=!1,n=!1){const r=Ce(e[0]).body;return Pa(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const es=i.createContext(null),ts=()=>i.useContext(es),ka=Nt("portal");function Aa(e={}){const{ref:t,container:n,componentProps:r=ze,elementProps:o,elementState:s}=e,a=Dt(),c=ts(),u=c==null?void 0:c.portalNode,[l,d]=i.useState(null),[f,b]=i.useState(null),m=te(h=>{h!==null&&b(h)}),p=i.useRef(null);ae(()=>{if(n===null){p.current&&(p.current=null,b(null),d(null));return}if(a==null)return;const h=(n&&(oi(n)?n:n.current))??u??document.body;if(h==null){p.current&&(p.current=null,b(null),d(null));return}p.current!==h&&(p.current=h,b(null),d(h))},[n,u,a]);const g=_e("div",r,{ref:[t,m],state:s,props:[{id:a,[ka]:""},o]});return{portalNode:f,portalSubtree:l&&g?ht.createPortal(g,l):null}}const ns=i.forwardRef(function(t,n){const{children:r,container:o,className:s,render:a,renderGuards:c,...u}=t,{portalNode:l,portalSubtree:d}=Aa({container:o,ref:n,componentProps:t,elementProps:u}),f=i.useRef(null),b=i.useRef(null),m=i.useRef(null),p=i.useRef(null),[g,E]=i.useState(null),h=g==null?void 0:g.modal,y=g==null?void 0:g.open,v=typeof c=="boolean"?c:!!g&&!g.modal&&g.open&&!!l;i.useEffect(()=>{if(!l||h)return;function x(M){l&&M.relatedTarget&&Tt(M)&&(M.type==="focusin"?Nr:Sa)(l)}return l.addEventListener("focusin",x,!0),l.addEventListener("focusout",x,!0),()=>{l.removeEventListener("focusin",x,!0),l.removeEventListener("focusout",x,!0)}},[l,h]),i.useEffect(()=>{!l||y||Nr(l)},[y,l]);const w=i.useMemo(()=>({beforeOutsideRef:f,afterOutsideRef:b,beforeInsideRef:m,afterInsideRef:p,portalNode:l,setFocusManagerState:E}),[l]);return T.jsxs(i.Fragment,{children:[d,T.jsxs(es.Provider,{value:w,children:[v&&l&&T.jsx(Ft,{"data-type":"outside",ref:f,onFocus:x=>{var M;if(Tt(x,l))(M=m.current)==null||M.focus();else{const I=g?g.domReference:null,k=Uo(I);k==null||k.focus()}}}),v&&l&&T.jsx("span",{"aria-owns":l.id,style:Ci}),l&&ht.createPortal(r,l),v&&l&&T.jsx(Ft,{"data-type":"outside",ref:b,onFocus:x=>{var M;if(Tt(x,l))(M=p.current)==null||M.focus();else{const I=g?g.domReference:null,k=ur(I);k==null||k.focus(),g!=null&&g.closeOnFocusOut&&(g==null||g.onOpenChange(!1,ge(It,x.nativeEvent)))}}})]})]})});function La(e,t){const n=$e(e.target);return e instanceof n.KeyboardEvent?"keyboard":e instanceof n.FocusEvent?t||"keyboard":"pointerType"in e?e.pointerType||"keyboard":"touches"in e?"touch":e instanceof n.MouseEvent?t||(e.detail===0?"keyboard":"mouse"):""}const Vr=20;let it=[];function dr(){it=it.filter(e=>e.isConnected)}function Na(e){dr(),e&&Yt(e)!=="body"&&(it.push(e),it.length>Vr&&(it=it.slice(-Vr)))}function Dn(){return dr(),it[it.length-1]}function Fa(e){if(!e)return null;const t=Ht();return Wo(e,t)?e:Xt(e,t)[0]||e}function Da(e){return!e||!e.isConnected?!1:typeof e.checkVisibility=="function"?e.checkVisibility():Ye(e).display!=="none"}function Hr(e,t){var a;if(!t.current.includes("floating")&&!((a=e.getAttribute("role"))!=null&&a.includes("dialog")))return;const n=Ht(),o=Ea(e,n).filter(c=>{const u=c.getAttribute("data-tabindex")||"";return Wo(c,n)||c.hasAttribute("data-tabindex")&&!u.startsWith("-")}),s=e.getAttribute("tabindex");t.current.includes("floating")||o.length===0?s!=="0"&&e.setAttribute("tabindex","0"):(s!=="-1"||e.hasAttribute("data-tabindex")&&e.getAttribute("data-tabindex")!=="-1")&&(e.setAttribute("tabindex","-1"),e.setAttribute("data-tabindex","-1"))}function rs(e){const{context:t,children:n,disabled:r=!1,order:o=["content"],initialFocus:s=!0,returnFocus:a=!0,restoreFocus:c=!1,modal:u=!0,closeOnFocusOut:l=!0,openInteractionType:d="",getInsideElements:f=()=>[],nextFocusableElement:b,previousFocusableElement:m,beforeContentFocusGuardRef:p,externalTree:g}=e,E="rootStore"in t?t.rootStore:t,h=E.useState("open"),y=E.useState("domReferenceElement"),v=E.useState("floatingElement"),{events:w,dataRef:x}=E.context,M=te(()=>{var F;return(F=x.current.floatingContext)==null?void 0:F.nodeId}),I=te(f),k=s===!1,D=Un(y)&&k,N=Ne(o),H=Ne(s),L=Ne(a),O=Ne(d),j=ft(g),S=ts(),B=i.useRef(null),ee=i.useRef(null),C=i.useRef(!1),P=i.useRef(!1),A=i.useRef(!1),G=i.useRef(-1),K=i.useRef(""),_=i.useRef(""),ie=i.useRef(null),ne=i.useRef(null),q=un(ie,p,S==null?void 0:S.beforeInsideRef),X=un(ne,S==null?void 0:S.afterInsideRef),ue=Be(),fe=Be(),de=Jn(),le=S!=null,R=dn(v),z=te((F=R)=>F?Xt(F,Ht()):[]),U=te(F=>{const Z=z(F);return N.current.map(()=>Z).filter(Boolean).flat()});i.useEffect(()=>{if(r||!u)return;function F($){$.key==="Tab"&&pe(R,Ge(Ce(R)))&&z().length===0&&!D&&Le($)}const Z=Ce(R);return Z.addEventListener("keydown",F),()=>{Z.removeEventListener("keydown",F)}},[r,y,R,u,N,D,z,U]),i.useEffect(()=>{if(r||!v)return;function F(Z){const $=Fe(Z),re=z().indexOf($);re!==-1&&(G.current=re)}return v.addEventListener("focusin",F),()=>{v.removeEventListener("focusin",F)}},[r,v,z]),i.useEffect(()=>{if(r||!h)return;const F=Ce(R);function Z(){A.current=!1}function $(re){const Q=Fe(re),se=pe(v,Q)||pe(y,Q)||pe(S==null?void 0:S.portalNode,Q);A.current=!se,_.current=re.pointerType||"keyboard"}function J(){_.current="keyboard"}return F.addEventListener("pointerdown",$,!0),F.addEventListener("pointerup",Z,!0),F.addEventListener("pointercancel",Z,!0),F.addEventListener("keydown",J,!0),()=>{F.removeEventListener("pointerdown",$,!0),F.removeEventListener("pointerup",Z,!0),F.removeEventListener("pointercancel",Z,!0),F.removeEventListener("keydown",J,!0)}},[r,v,y,R,h,S]),i.useEffect(()=>{if(r||!l)return;function F(){P.current=!0,fe.start(0,()=>{P.current=!1})}function Z(Q){const se=Q.relatedTarget,V=Q.currentTarget,Y=Fe(Q);queueMicrotask(()=>{const W=M(),me=E.context.triggerElements,be=(se==null?void 0:se.hasAttribute(Nt("focus-guard")))&&[ie.current,ne.current,S==null?void 0:S.beforeInsideRef.current,S==null?void 0:S.afterInsideRef.current,S==null?void 0:S.beforeOutsideRef.current,S==null?void 0:S.afterOutsideRef.current,st(m),st(b)].includes(se),Ee=!(pe(y,se)||pe(v,se)||pe(se,v)||pe(S==null?void 0:S.portalNode,se)||se!=null&&me.hasElement(se)||me.hasMatchingElement(ye=>pe(ye,se))||be||j&&(gt(j.nodesRef.current,W).find(ye=>{var Re,Se;return pe((Re=ye.context)==null?void 0:Re.elements.floating,se)||pe((Se=ye.context)==null?void 0:Se.elements.domReference,se)})||Pr(j.nodesRef.current,W).find(ye=>{var Re,Se,Ie;return[(Re=ye.context)==null?void 0:Re.elements.floating,dn((Se=ye.context)==null?void 0:Se.elements.floating)].includes(se)||((Ie=ye.context)==null?void 0:Ie.elements.domReference)===se})));if(V===y&&R&&Hr(R,N),c&&V!==y&&!Da(Y)&&Ge(Ce(R))===Ce(R).body){if(Pe(R)&&(R.focus(),c==="popup")){de.request(()=>{R.focus()});return}const ye=G.current,Re=z(),Se=Re[ye]||Re[Re.length-1]||R;Pe(Se)&&Se.focus()}if(x.current.insideReactTree){x.current.insideReactTree=!1;return}(D||!u)&&se&&Ee&&!P.current&&(D||se!==Dn())&&(C.current=!0,E.setOpen(!1,ge(It,Q)))})}function $(){A.current||(x.current.insideReactTree=!0,ue.start(0,()=>{x.current.insideReactTree=!1}))}const J=Pe(y)?y:null,re=[];if(!(!v&&!J))return J&&(J.addEventListener("focusout",Z),J.addEventListener("pointerdown",F),re.push(()=>{J.removeEventListener("focusout",Z),J.removeEventListener("pointerdown",F)})),v&&(v.addEventListener("focusout",Z),S&&(v.addEventListener("focusout",$,!0),re.push(()=>{v.removeEventListener("focusout",$,!0)})),re.push(()=>{v.removeEventListener("focusout",Z)})),()=>{re.forEach(Q=>{Q()})}},[r,y,v,R,u,j,S,E,l,c,z,D,M,N,x,ue,fe,de,b,m]),i.useEffect(()=>{var Q,se,V;if(r||!v||!h)return;const F=Array.from(((Q=S==null?void 0:S.portalNode)==null?void 0:Q.querySelectorAll(`[${Nt("portal")}]`))||[]),$=(V=(se=(j?Pr(j.nodesRef.current,M()):[]).find(Y=>{var W;return Un(((W=Y.context)==null?void 0:W.elements.domReference)||null)}))==null?void 0:se.context)==null?void 0:V.elements.domReference,J=[v,$,...F,...I(),B.current,ee.current,ie.current,ne.current,S==null?void 0:S.beforeOutsideRef.current,S==null?void 0:S.afterOutsideRef.current,st(m),st(b),D?y:null].filter(Y=>Y!=null),re=Ia(J,u||D);return()=>{re()}},[h,r,y,v,u,N,S,D,j,M,I,b,m]),ae(()=>{if(!h||r||!Pe(R))return;const F=Ce(R),Z=Ge(F);queueMicrotask(()=>{const $=U(R),J=H.current,re=typeof J=="function"?J(O.current||""):J;if(re===void 0||re===!1)return;let Q;re===!0||re===null?Q=$[0]||R:Q=st(re),Q=Q||$[0]||R,!pe(R,Z)&&cn(Q,{preventScroll:Q===R})})},[r,h,R,k,U,H,O]),ae(()=>{if(r||!R)return;const F=Ce(R),Z=Ge(F);Na(Z);function $(Q){if(Q.open||(K.current=La(Q.nativeEvent,_.current)),Q.reason===De&&Q.nativeEvent.type==="mouseleave"&&(C.current=!0),Q.reason===Qn)if(Q.nested)C.current=!1;else if(No(Q.nativeEvent)||Fo(Q.nativeEvent))C.current=!1;else{let se=!1;document.createElement("div").focus({get preventScroll(){return se=!0,!1}}),se?C.current=!1:C.current=!0}}w.on("openchange",$);const J=F.createElement("span");J.setAttribute("tabindex","-1"),J.setAttribute("aria-hidden","true"),Object.assign(J.style,Jo),le&&y&&y.insertAdjacentElement("afterend",J);function re(){const Q=L.current;let se=typeof Q=="function"?Q(K.current):Q;if(se===void 0||se===!1)return null;if(se===null&&(se=!0),typeof se=="boolean"){const Y=y||Dn();return Y&&Y.isConnected?Y:J}const V=y||Dn()||J;return st(se)||V}return()=>{w.off("openchange",$);const Q=Ge(F),se=pe(v,Q)||j&&gt(j.nodesRef.current,M(),!1).some(Y=>{var W;return pe((W=Y.context)==null?void 0:W.elements.floating,Q)}),V=re();queueMicrotask(()=>{const Y=Fa(V),W=typeof L.current!="boolean";L.current&&!C.current&&Pe(Y)&&(!(!W&&Y!==Q&&Q!==F.body)||se)&&Y.focus({preventScroll:!0}),J.remove()})}},[r,v,R,L,x,w,j,le,y,M]),i.useEffect(()=>{queueMicrotask(()=>{C.current=!1})},[r]),i.useEffect(()=>{if(r||!h)return;function F($){const J=Fe($);J!=null&&J.closest(`[${wi}]`)&&(P.current=!0)}const Z=Ce(R);return Z.addEventListener("pointerdown",F,!0),()=>{Z.removeEventListener("pointerdown",F,!0)}},[r,h,R]),ae(()=>{if(!r&&S)return S.setFocusManagerState({modal:u,closeOnFocusOut:l,open:h,onOpenChange:E.setOpen,domReference:y}),()=>{S.setFocusManagerState(null)}},[r,S,u,h,E,l,y]),ae(()=>{if(!(r||!R))return Hr(R,N),()=>{queueMicrotask(dr)}},[r,R,N]);const he=!r&&(u?!D:!0)&&(le||u);return T.jsxs(i.Fragment,{children:[he&&T.jsx(Ft,{"data-type":"inside",ref:q,onFocus:F=>{var Z;if(u){const $=U();cn($[$.length-1])}else if(S!=null&&S.portalNode)if(C.current=!1,Tt(F,S.portalNode)){const $=ur(y);$==null||$.focus()}else(Z=st(m??S.beforeOutsideRef))==null||Z.focus()}}),n,he&&T.jsx(Ft,{"data-type":"inside",ref:X,onFocus:F=>{var Z;if(u)cn(U()[0]);else if(S!=null&&S.portalNode)if(l&&(C.current=!0),Tt(F,S.portalNode)){const $=Uo(y);$==null||$.focus()}else(Z=st(b??S.afterOutsideRef))==null||Z.focus()}})]})}function Va(e,t={}){const n="rootStore"in e?e.rootStore:e,r=n.context.dataRef,{enabled:o=!0,event:s="click",toggle:a=!0,ignoreMouse:c=!1,stickIfOpen:u=!0,touchOpenDelay:l=0}=t,d=i.useRef(void 0),f=Jn(),b=Be(),m=i.useMemo(()=>({onPointerDown(p){d.current=p.pointerType},onMouseDown(p){const g=d.current,E=p.nativeEvent,h=n.select("open");if(p.button!==0||s==="click"||kt(g,!0)&&c)return;const y=r.current.openEvent,v=y==null?void 0:y.type,w=n.select("domReferenceElement")!==p.currentTarget,x=h&&w||!(h&&a&&(!(y&&u)||v==="click"||v==="mousedown"));if(ir(E.target)){const I=ge(mt,E,E.target);x&&g==="touch"&&l>0?b.start(l,()=>{n.setOpen(!0,I)}):n.setOpen(x,I);return}const M=p.currentTarget;f.request(()=>{const I=ge(mt,E,M);x&&g==="touch"&&l>0?b.start(l,()=>{n.setOpen(!0,I)}):n.setOpen(x,I)})},onClick(p){if(s==="mousedown-only")return;const g=d.current;if(s==="mousedown"&&g){d.current=void 0;return}if(kt(g,!0)&&c)return;const E=n.select("open"),h=r.current.openEvent,y=n.select("domReferenceElement")!==p.currentTarget,v=E&&y||!(E&&a&&(!(h&&u)||Do(h))),w=ge(mt,p.nativeEvent,p.currentTarget);v&&g==="touch"&&l>0?b.start(l,()=>{n.setOpen(!0,w)}):n.setOpen(v,w)},onKeyDown(){d.current=void 0}}),[r,s,c,n,u,a,f,b,l]);return i.useMemo(()=>o?{reference:m}:ze,[o,m])}function jr(e,t,n){let{reference:r,floating:o}=e;const s=Ze(t),a=lr(t),c=cr(a),u=je(t),l=s==="y",d=r.x+r.width/2-o.width/2,f=r.y+r.height/2-o.height/2,b=r[c]/2-o[c]/2;let m;switch(u){case"top":m={x:d,y:r.y-o.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-o.width,y:f};break;default:m={x:r.x,y:r.y}}switch(ut(t)){case"start":m[a]-=b*(n&&l?-1:1);break;case"end":m[a]+=b*(n&&l?-1:1);break}return m}async function Ha(e,t){var n;t===void 0&&(t={});const{x:r,y:o,platform:s,rects:a,elements:c,strategy:u}=e,{boundary:l="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:b=!1,padding:m=0}=nt(t,e),p=Vo(m),E=c[b?f==="floating"?"reference":"floating":f],h=gn(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(E)))==null||n?E:E.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:l,rootBoundary:d,strategy:u})),y=f==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,v=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),w=await(s.isElement==null?void 0:s.isElement(v))?await(s.getScale==null?void 0:s.getScale(v))||{x:1,y:1}:{x:1,y:1},x=gn(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:y,offsetParent:v,strategy:u}):y);return{top:(h.top-x.top+p.top)/w.y,bottom:(x.bottom-h.bottom+p.bottom)/w.y,left:(h.left-x.left+p.left)/w.x,right:(x.right-h.right+p.right)/w.x}}const ja=async(e,t,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:a}=n,c=s.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(t));let l=await a.getElementRects({reference:e,floating:t,strategy:o}),{x:d,y:f}=jr(l,r,u),b=r,m={},p=0;for(let E=0;E<c.length;E++){var g;const{name:h,fn:y}=c[E],{x:v,y:w,data:x,reset:M}=await y({x:d,y:f,initialPlacement:r,placement:b,strategy:o,middlewareData:m,rects:l,platform:{...a,detectOverflow:(g=a.detectOverflow)!=null?g:Ha},elements:{reference:e,floating:t}});d=v??d,f=w??f,m={...m,[h]:{...m[h],...x}},M&&p<=50&&(p++,typeof M=="object"&&(M.placement&&(b=M.placement),M.rects&&(l=M.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:o}):M.rects),{x:d,y:f}=jr(l,b,u)),E=-1)}return{x:d,y:f,placement:b,strategy:o,middlewareData:m}},Ba=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:o,middlewareData:s,rects:a,initialPlacement:c,platform:u,elements:l}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:b,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...E}=nt(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const h=je(o),y=Ze(c),v=je(c)===c,w=await(u.isRTL==null?void 0:u.isRTL(l.floating)),x=b||(v||!g?[mn(c)]:qi(c)),M=p!=="none";!b&&M&&x.push(...ta(c,g,p,w));const I=[c,...x],k=await u.detectOverflow(t,E),D=[];let N=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&D.push(k[h]),f){const j=Xi(o,a,w);D.push(k[j[0]],k[j[1]])}if(N=[...N,{placement:o,overflows:D}],!D.every(j=>j<=0)){var H,L;const j=(((H=s.flip)==null?void 0:H.index)||0)+1,S=I[j];if(S&&(!(f==="alignment"?y!==Ze(S):!1)||N.every(C=>Ze(C.placement)===y?C.overflows[0]>0:!0)))return{data:{index:j,overflows:N},reset:{placement:S}};let B=(L=N.filter(ee=>ee.overflows[0]<=0).sort((ee,C)=>ee.overflows[1]-C.overflows[1])[0])==null?void 0:L.placement;if(!B)switch(m){case"bestFit":{var O;const ee=(O=N.filter(C=>{if(M){const P=Ze(C.placement);return P===y||P==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(P=>P>0).reduce((P,A)=>P+A,0)]).sort((C,P)=>C[1]-P[1])[0])==null?void 0:O[0];ee&&(B=ee);break}case"initialPlacement":B=c;break}if(o!==B)return{reset:{placement:B}}}return{}}}};function Br(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function _r(e){return Ui.some(t=>e[t]>=0)}const _a=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:r}=t,{strategy:o="referenceHidden",...s}=nt(e,t);switch(o){case"referenceHidden":{const a=await r.detectOverflow(t,{...s,elementContext:"reference"}),c=Br(a,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:_r(c)}}}case"escaped":{const a=await r.detectOverflow(t,{...s,altBoundary:!0}),c=Br(a,n.floating);return{data:{escapedOffsets:c,escaped:_r(c)}}}default:return{}}}}},os=new Set(["left","top"]);async function Za(e,t){const{placement:n,platform:r,elements:o}=e,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=je(n),c=ut(n),u=Ze(n)==="y",l=os.has(a)?-1:1,d=s&&u?-1:1,f=nt(t,e);let{mainAxis:b,crossAxis:m,alignmentAxis:p}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof p=="number"&&(m=c==="end"?p*-1:p),u?{x:m*d,y:b*l}:{x:b*l,y:m*d}}const $a=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:o,y:s,placement:a,middlewareData:c}=t,u=await Za(t,e);return a===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:o+u.x,y:s+u.y,data:{...u,placement:a}}}}},Wa=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:o,platform:s}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:u={fn:h=>{let{x:y,y:v}=h;return{x:y,y:v}}},...l}=nt(e,t),d={x:n,y:r},f=await s.detectOverflow(t,l),b=Ze(je(o)),m=ar(b);let p=d[m],g=d[b];if(a){const h=m==="y"?"top":"left",y=m==="y"?"bottom":"right",v=p+f[h],w=p-f[y];p=zn(v,p,w)}if(c){const h=b==="y"?"top":"left",y=b==="y"?"bottom":"right",v=g+f[h],w=g-f[y];g=zn(v,g,w)}const E=u.fn({...t,[m]:p,[b]:g});return{...E,data:{x:E.x-n,y:E.y-r,enabled:{[m]:a,[b]:c}}}}}},Ka=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:o,rects:s,middlewareData:a}=t,{offset:c=0,mainAxis:u=!0,crossAxis:l=!0}=nt(e,t),d={x:n,y:r},f=Ze(o),b=ar(f);let m=d[b],p=d[f];const g=nt(c,t),E=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(u){const v=b==="y"?"height":"width",w=s.reference[b]-s.floating[v]+E.mainAxis,x=s.reference[b]+s.reference[v]-E.mainAxis;m<w?m=w:m>x&&(m=x)}if(l){var h,y;const v=b==="y"?"width":"height",w=os.has(je(o)),x=s.reference[f]-s.floating[v]+(w&&((h=a.offset)==null?void 0:h[f])||0)+(w?0:E.crossAxis),M=s.reference[f]+s.reference[v]+(w?0:((y=a.offset)==null?void 0:y[f])||0)-(w?E.crossAxis:0);p<x?p=x:p>M&&(p=M)}return{[b]:m,[f]:p}}}},Ua=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:o,rects:s,platform:a,elements:c}=t,{apply:u=()=>{},...l}=nt(e,t),d=await a.detectOverflow(t,l),f=je(o),b=ut(o),m=Ze(o)==="y",{width:p,height:g}=s.floating;let E,h;f==="top"||f==="bottom"?(E=f,h=b===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(h=f,E=b==="end"?"top":"bottom");const y=g-d.top-d.bottom,v=p-d.left-d.right,w=At(g-d[E],y),x=At(p-d[h],v),M=!t.middlewareData.shift;let I=w,k=x;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(k=v),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(I=y),M&&!b){const N=He(d.left,0),H=He(d.right,0),L=He(d.top,0),O=He(d.bottom,0);m?k=p-2*(N!==0||H!==0?N+H:He(d.left,d.right)):I=g-2*(L!==0||O!==0?L+O:He(d.top,d.bottom))}await u({...t,availableWidth:k,availableHeight:I});const D=await a.getDimensions(c.floating);return p!==D.width||g!==D.height?{reset:{rects:!0}}:{}}}};function ss(e){const t=Ye(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const o=Pe(e),s=o?e.offsetWidth:n,a=o?e.offsetHeight:r,c=pn(n)!==s||pn(r)!==a;return c&&(n=s,r=a),{width:n,height:r,$:c}}function pr(e){return xe(e)?e:e.contextElement}function Mt(e){const t=pr(e);if(!Pe(t))return qe(1);const n=t.getBoundingClientRect(),{width:r,height:o,$:s}=ss(t);let a=(s?pn(n.width):n.width)/r,c=(s?pn(n.height):n.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const za=qe(0);function is(e){const t=$e(e);return!er()||!t.visualViewport?za:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Ya(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==$e(e)?!1:t}function xt(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const o=e.getBoundingClientRect(),s=pr(e);let a=qe(1);t&&(r?xe(r)&&(a=Mt(r)):a=Mt(e));const c=Ya(s,n,r)?is(s):qe(0);let u=(o.left+c.x)/a.x,l=(o.top+c.y)/a.y,d=o.width/a.x,f=o.height/a.y;if(s){const b=$e(s),m=r&&xe(r)?$e(r):r;let p=b,g=wr(p);for(;g&&r&&m!==p;){const E=Mt(g),h=g.getBoundingClientRect(),y=Ye(g),v=h.left+(g.clientLeft+parseFloat(y.paddingLeft))*E.x,w=h.top+(g.clientTop+parseFloat(y.paddingTop))*E.y;u*=E.x,l*=E.y,d*=E.x,f*=E.y,u+=v,l+=w,p=$e(g),g=wr(p)}}return gn({width:d,height:f,x:u,y:l})}function Cn(e,t){const n=wn(e).scrollLeft;return t?t.left+n:xt(rt(e)).left+n}function as(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Cn(e,n),o=n.top+t.scrollTop;return{x:r,y:o}}function Ga(e){let{elements:t,rect:n,offsetParent:r,strategy:o}=e;const s=o==="fixed",a=rt(r),c=t?tr(t.floating):!1;if(r===a||c&&s)return n;let u={scrollLeft:0,scrollTop:0},l=qe(1);const d=qe(0),f=Pe(r);if((f||!f&&!s)&&((Yt(r)!=="body"||zt(a))&&(u=wn(r)),Pe(r))){const m=xt(r);l=Mt(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const b=a&&!f&&!s?as(a,u):qe(0);return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-u.scrollLeft*l.x+d.x+b.x,y:n.y*l.y-u.scrollTop*l.y+d.y+b.y}}function Xa(e){return Array.from(e.getClientRects())}function qa(e){const t=rt(e),n=wn(e),r=e.ownerDocument.body,o=He(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=He(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Cn(e);const c=-n.scrollTop;return Ye(r).direction==="rtl"&&(a+=He(t.clientWidth,r.clientWidth)-o),{width:o,height:s,x:a,y:c}}const Zr=25;function Ja(e,t){const n=$e(e),r=rt(e),o=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,c=0,u=0;if(o){s=o.width,a=o.height;const d=er();(!d||d&&t==="fixed")&&(c=o.offsetLeft,u=o.offsetTop)}const l=Cn(r);if(l<=0){const d=r.ownerDocument,f=d.body,b=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,p=Math.abs(r.clientWidth-f.clientWidth-m);p<=Zr&&(s-=p)}else l<=Zr&&(s+=l);return{width:s,height:a,x:c,y:u}}const Qa=new Set(["absolute","fixed"]);function ec(e,t){const n=xt(e,!0,t==="fixed"),r=n.top+e.clientTop,o=n.left+e.clientLeft,s=Pe(e)?Mt(e):qe(1),a=e.clientWidth*s.x,c=e.clientHeight*s.y,u=o*s.x,l=r*s.y;return{width:a,height:c,x:u,y:l}}function $r(e,t,n){let r;if(t==="viewport")r=Ja(e,n);else if(t==="document")r=qa(rt(e));else if(xe(t))r=ec(t,n);else{const o=is(e);r={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return gn(r)}function cs(e,t){const n=bt(e);return n===t||!xe(n)||at(n)?!1:Ye(n).position==="fixed"||cs(n,t)}function tc(e,t){const n=t.get(e);if(n)return n;let r=Ct(e,[],!1).filter(c=>xe(c)&&Yt(c)!=="body"),o=null;const s=Ye(e).position==="fixed";let a=s?bt(e):e;for(;xe(a)&&!at(a);){const c=Ye(a),u=go(a);!u&&c.position==="fixed"&&(o=null),(s?!u&&!o:!u&&c.position==="static"&&!!o&&Qa.has(o.position)||zt(a)&&!u&&cs(e,a))?r=r.filter(d=>d!==a):o=c,a=bt(a)}return t.set(e,r),r}function nc(e){let{element:t,boundary:n,rootBoundary:r,strategy:o}=e;const a=[...n==="clippingAncestors"?tr(t)?[]:tc(t,this._c):[].concat(n),r],c=a[0],u=a.reduce((l,d)=>{const f=$r(t,d,o);return l.top=He(f.top,l.top),l.right=At(f.right,l.right),l.bottom=At(f.bottom,l.bottom),l.left=He(f.left,l.left),l},$r(t,c,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function rc(e){const{width:t,height:n}=ss(e);return{width:t,height:n}}function oc(e,t,n){const r=Pe(t),o=rt(t),s=n==="fixed",a=xt(e,!0,s,t);let c={scrollLeft:0,scrollTop:0};const u=qe(0);function l(){u.x=Cn(o)}if(r||!r&&!s)if((Yt(t)!=="body"||zt(o))&&(c=wn(t)),r){const m=xt(t,!0,s,t);u.x=m.x+t.clientLeft,u.y=m.y+t.clientTop}else o&&l();s&&!r&&o&&l();const d=o&&!r&&!s?as(o,c):qe(0),f=a.left+c.scrollLeft-u.x-d.x,b=a.top+c.scrollTop-u.y-d.y;return{x:f,y:b,width:a.width,height:a.height}}function Vn(e){return Ye(e).position==="static"}function Wr(e,t){if(!Pe(e)||Ye(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return rt(e)===n&&(n=n.ownerDocument.body),n}function ls(e,t){const n=$e(e);if(tr(e))return n;if(!Pe(e)){let o=bt(e);for(;o&&!at(o);){if(xe(o)&&!Vn(o))return o;o=bt(o)}return n}let r=Wr(e,t);for(;r&&si(r)&&Vn(r);)r=Wr(r,t);return r&&at(r)&&Vn(r)&&!go(r)?n:r||ii(e)||n}const sc=async function(e){const t=this.getOffsetParent||ls,n=this.getDimensions,r=await n(e.floating);return{reference:oc(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ic(e){return Ye(e).direction==="rtl"}const ac={convertOffsetParentRelativeRectToViewportRelativeRect:Ga,getDocumentElement:rt,getClippingRect:nc,getOffsetParent:ls,getElementRects:sc,getClientRects:Xa,getDimensions:rc,getScale:Mt,isElement:xe,isRTL:ic};function us(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function cc(e,t){let n=null,r;const o=rt(e);function s(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,u){c===void 0&&(c=!1),u===void 0&&(u=1),s();const l=e.getBoundingClientRect(),{left:d,top:f,width:b,height:m}=l;if(c||t(),!b||!m)return;const p=St(f),g=St(o.clientWidth-(d+b)),E=St(o.clientHeight-(f+m)),h=St(d),v={rootMargin:-p+"px "+-g+"px "+-E+"px "+-h+"px",threshold:He(0,At(1,u))||1};let w=!0;function x(M){const I=M[0].intersectionRatio;if(I!==u){if(!w)return a();I?a(!1,I):r=setTimeout(()=>{a(!1,1e-7)},1e3)}I===1&&!us(l,e.getBoundingClientRect())&&a(),w=!1}try{n=new IntersectionObserver(x,{...v,root:o.ownerDocument})}catch{n=new IntersectionObserver(x,v)}n.observe(e)}return a(!0),s}function Kr(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,l=pr(e),d=o||s?[...l?Ct(l):[],...Ct(t)]:[];d.forEach(h=>{o&&h.addEventListener("scroll",n,{passive:!0}),s&&h.addEventListener("resize",n)});const f=l&&c?cc(l,n):null;let b=-1,m=null;a&&(m=new ResizeObserver(h=>{let[y]=h;y&&y.target===l&&m&&(m.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var v;(v=m)==null||v.observe(t)})),n()}),l&&!u&&m.observe(l),m.observe(t));let p,g=u?xt(e):null;u&&E();function E(){const h=xt(e);g&&!us(g,h)&&n(),g=h,p=requestAnimationFrame(E)}return n(),()=>{var h;d.forEach(y=>{o&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),f==null||f(),(h=m)==null||h.disconnect(),m=null,u&&cancelAnimationFrame(p)}}const lc=$a,uc=Wa,fc=Ba,dc=Ua,pc=_a,mc=Ka,gc=(e,t,n)=>{const r=new Map,o={platform:ac,...n},s={...o.platform,_c:r};return ja(e,t,{...o,platform:s})};var hc=typeof document<"u",bc=function(){},ln=hc?i.useLayoutEffect:bc;function vn(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!vn(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;r--!==0;){const s=o[r];if(!(s==="_owner"&&e.$$typeof)&&!vn(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function fs(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ur(e,t){const n=fs(e);return Math.round(t*n)/n}function Hn(e){const t=i.useRef(e);return ln(()=>{t.current=e}),t}function yc(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:a}={},transform:c=!0,whileElementsMounted:u,open:l}=e,[d,f]=i.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,m]=i.useState(r);vn(b,r)||m(r);const[p,g]=i.useState(null),[E,h]=i.useState(null),y=i.useCallback(C=>{C!==M.current&&(M.current=C,g(C))},[]),v=i.useCallback(C=>{C!==I.current&&(I.current=C,h(C))},[]),w=s||p,x=a||E,M=i.useRef(null),I=i.useRef(null),k=i.useRef(d),D=u!=null,N=Hn(u),H=Hn(o),L=Hn(l),O=i.useCallback(()=>{if(!M.current||!I.current)return;const C={placement:t,strategy:n,middleware:b};H.current&&(C.platform=H.current),gc(M.current,I.current,C).then(P=>{const A={...P,isPositioned:L.current!==!1};j.current&&!vn(k.current,A)&&(k.current=A,ht.flushSync(()=>{f(A)}))})},[b,t,n,H,L]);ln(()=>{l===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(C=>({...C,isPositioned:!1})))},[l]);const j=i.useRef(!1);ln(()=>(j.current=!0,()=>{j.current=!1}),[]),ln(()=>{if(w&&(M.current=w),x&&(I.current=x),w&&x){if(N.current)return N.current(w,x,O);O()}},[w,x,O,N,D]);const S=i.useMemo(()=>({reference:M,floating:I,setReference:y,setFloating:v}),[y,v]),B=i.useMemo(()=>({reference:w,floating:x}),[w,x]),ee=i.useMemo(()=>{const C={position:n,left:0,top:0};if(!B.floating)return C;const P=Ur(B.floating,d.x),A=Ur(B.floating,d.y);return c?{...C,transform:"translate("+P+"px, "+A+"px)",...fs(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:P,top:A}},[n,c,B.floating,d.x,d.y]);return i.useMemo(()=>({...d,update:O,refs:S,elements:B,floatingStyles:ee}),[d,O,S,B,ee])}const xc=(e,t)=>({...lc(e),options:[e,t]}),vc=(e,t)=>({...uc(e),options:[e,t]}),Ec=(e,t)=>({...mc(e),options:[e,t]}),wc=(e,t)=>({...fc(e),options:[e,t]}),Rc=(e,t)=>({...dc(e),options:[e,t]}),Sc=(e,t)=>({...pc(e),options:[e,t]}),Cc={intentional:"onClick",sloppy:"onPointerDown"};function Tc(e){return{escapeKey:typeof e=="boolean"?e:(e==null?void 0:e.escapeKey)??!1,outsidePress:typeof e=="boolean"?e:(e==null?void 0:e.outsidePress)??!0}}function ds(e,t={}){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),o=n.useState("floatingElement"),s=n.useState("referenceElement"),a=n.useState("domReferenceElement"),{onOpenChange:c,dataRef:u}=n.context,{enabled:l=!0,escapeKey:d=!0,outsidePress:f=!0,outsidePressEvent:b="sloppy",referencePress:m=!1,referencePressEvent:p="sloppy",ancestorScroll:g=!1,bubbles:E,externalTree:h}=t,y=ft(h),v=te(typeof f=="function"?f:()=>!1),w=typeof f=="function"?v:f,x=i.useRef(!1),{escapeKey:M,outsidePress:I}=Tc(E),k=i.useRef(null),D=Be(),N=Be(),H=te(()=>{N.clear(),u.current.insideReactTree=!1}),L=i.useRef(!1),O=i.useRef(""),j=te(R=>{O.current=R.pointerType}),S=te(()=>{const R=O.current,z=R==="pen"||!R?"mouse":R,U=typeof b=="function"?b():b;return typeof U=="string"?U:U[z]}),B=te(R=>{var Z;if(!r||!l||!d||R.key!=="Escape"||L.current)return;const z=(Z=u.current.floatingContext)==null?void 0:Z.nodeId,U=y?gt(y.nodesRef.current,z):[];if(!M&&U.length>0){let $=!0;if(U.forEach(J=>{var re;(re=J.context)!=null&&re.open&&!J.context.dataRef.current.__escapeKeyBubbles&&($=!1)}),!$)return}const he=Ki(R)?R.nativeEvent:R,F=ge(nr,he);n.setOpen(!1,F),!M&&!F.isPropagationAllowed&&R.stopPropagation()}),ee=te(R=>{const z=S();return z==="intentional"&&R.type!=="click"||z==="sloppy"&&R.type==="click"}),C=te(()=>{u.current.insideReactTree=!0,N.start(0,H)}),P=te((R,z=!1)=>{var se;if(ee(R)){H();return}if(u.current.insideReactTree){H();return}if(S()==="intentional"&&z||typeof w=="function"&&!w(R))return;const U=Fe(R),he=`[${Nt("inert")}]`,F=Ce(n.select("floatingElement")).querySelectorAll(he),Z=n.context.triggerElements;if(U&&(Z.hasElement(U)||Z.hasMatchingElement(V=>pe(V,U))))return;let $=xe(U)?U:null;for(;$&&!at($);){const V=bt($);if(at(V)||!xe(V))break;$=V}if(F.length&&xe(U)&&!$i(U)&&!pe(U,n.select("floatingElement"))&&Array.from(F).every(V=>!pe($,V)))return;if(Pe(U)&&!("touches"in R)){const V=at(U),Y=Ye(U),W=/auto|scroll/,me=V||W.test(Y.overflowX),be=V||W.test(Y.overflowY),Ee=me&&U.clientWidth>0&&U.scrollWidth>U.clientWidth,ye=be&&U.clientHeight>0&&U.scrollHeight>U.clientHeight,Re=Y.direction==="rtl",Se=ye&&(Re?R.offsetX<=U.offsetWidth-U.clientWidth:R.offsetX>U.clientWidth),Ie=Ee&&R.offsetY>U.clientHeight;if(Se||Ie)return}const J=(se=u.current.floatingContext)==null?void 0:se.nodeId,re=y&&gt(y.nodesRef.current,J).some(V=>{var Y;return Ue(R,(Y=V.context)==null?void 0:Y.elements.floating)});if(Ue(R,n.select("floatingElement"))||Ue(R,n.select("domReferenceElement"))||re)return;const Q=y?gt(y.nodesRef.current,J):[];if(Q.length>0){let V=!0;if(Q.forEach(Y=>{var W;(W=Y.context)!=null&&W.open&&!Y.context.dataRef.current.__outsidePressBubbles&&(V=!1)}),!V)return}n.setOpen(!1,ge(Qn,R)),H()}),A=te(R=>{S()!=="sloppy"||R.pointerType==="touch"||!n.select("open")||!l||Ue(R,n.select("floatingElement"))||Ue(R,n.select("domReferenceElement"))||P(R)}),G=te(R=>{if(S()!=="sloppy"||!n.select("open")||!l||Ue(R,n.select("floatingElement"))||Ue(R,n.select("domReferenceElement")))return;const z=R.touches[0];z&&(k.current={startTime:Date.now(),startX:z.clientX,startY:z.clientY,dismissOnTouchEnd:!1,dismissOnMouseDown:!0},D.start(1e3,()=>{k.current&&(k.current.dismissOnTouchEnd=!1,k.current.dismissOnMouseDown=!1)}))}),K=te(R=>{const z=Fe(R);function U(){G(R),z==null||z.removeEventListener(R.type,U)}z==null||z.addEventListener(R.type,U)}),_=te(R=>{const z=x.current;if(x.current=!1,D.clear(),R.type==="mousedown"&&k.current&&!k.current.dismissOnMouseDown)return;const U=Fe(R);function he(){R.type==="pointerdown"?A(R):P(R,z),U==null||U.removeEventListener(R.type,he)}U==null||U.addEventListener(R.type,he)}),ie=te(R=>{if(S()!=="sloppy"||!k.current||Ue(R,n.select("floatingElement"))||Ue(R,n.select("domReferenceElement")))return;const z=R.touches[0];if(!z)return;const U=Math.abs(z.clientX-k.current.startX),he=Math.abs(z.clientY-k.current.startY),F=Math.sqrt(U*U+he*he);F>5&&(k.current.dismissOnTouchEnd=!0),F>10&&(P(R),D.clear(),k.current=null)}),ne=te(R=>{const z=Fe(R);function U(){ie(R),z==null||z.removeEventListener(R.type,U)}z==null||z.addEventListener(R.type,U)}),q=te(R=>{S()!=="sloppy"||!k.current||Ue(R,n.select("floatingElement"))||Ue(R,n.select("domReferenceElement"))||(k.current.dismissOnTouchEnd&&P(R),D.clear(),k.current=null)}),X=te(R=>{const z=Fe(R);function U(){q(R),z==null||z.removeEventListener(R.type,U)}z==null||z.addEventListener(R.type,U)});i.useEffect(()=>{if(!r||!l)return;u.current.__escapeKeyBubbles=M,u.current.__outsidePressBubbles=I;const R=new yt;function z($){n.setOpen(!1,ge(ai,$))}function U(){R.clear(),L.current=!0}function he(){R.start(er()?5:0,()=>{L.current=!1})}const F=Ce(o);F.addEventListener("pointerdown",j,!0),d&&(F.addEventListener("keydown",B),F.addEventListener("compositionstart",U),F.addEventListener("compositionend",he)),w&&(F.addEventListener("click",_,!0),F.addEventListener("pointerdown",_,!0),F.addEventListener("touchstart",K,!0),F.addEventListener("touchmove",ne,!0),F.addEventListener("touchend",X,!0),F.addEventListener("mousedown",_,!0));let Z=[];return g&&(xe(a)&&(Z=Ct(a)),xe(o)&&(Z=Z.concat(Ct(o))),!xe(s)&&s&&s.contextElement&&(Z=Z.concat(Ct(s.contextElement)))),Z=Z.filter($=>{var J;return $!==((J=F.defaultView)==null?void 0:J.visualViewport)}),Z.forEach($=>{$.addEventListener("scroll",z,{passive:!0})}),()=>{F.removeEventListener("pointerdown",j,!0),d&&(F.removeEventListener("keydown",B),F.removeEventListener("compositionstart",U),F.removeEventListener("compositionend",he)),w&&(F.removeEventListener("click",_,!0),F.removeEventListener("pointerdown",_,!0),F.removeEventListener("touchstart",K,!0),F.removeEventListener("touchmove",ne,!0),F.removeEventListener("touchend",X,!0),F.removeEventListener("mousedown",_,!0)),Z.forEach($=>{$.removeEventListener("scroll",z)}),R.clear(),x.current=!1}},[u,o,s,a,d,w,r,c,g,l,M,I,B,P,_,A,K,ne,X,j,n]),i.useEffect(H,[w,H]);const ue=i.useMemo(()=>({onKeyDown:B,...m&&{[Cc[p]]:R=>{n.setOpen(!1,ge(mt,R.nativeEvent))},...p!=="intentional"&&{onClick(R){n.setOpen(!1,ge(mt,R.nativeEvent))}}}}),[B,n,m,p]),fe=te(R=>{const z=Fe(R.nativeEvent);!pe(n.select("floatingElement"),z)||R.button!==0||(x.current=!0)}),de=te(R=>{!r||!l||R.button!==0||(x.current=!0)}),le=i.useMemo(()=>({onKeyDown:B,onPointerDown:fe,onMouseDown:fe,onMouseUp:fe,onClickCapture:C,onMouseDownCapture(R){C(),de(R)},onPointerDownCapture(R){C(),de(R)},onMouseUpCapture:C,onTouchEndCapture:C,onTouchMoveCapture:C}),[B,fe,C,de]);return i.useMemo(()=>l?{reference:ue,floating:le,trigger:ue}:{},[l,ue,le])}var En=Symbol("NOT_FOUND");function Oc(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function Mc(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function Pc(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var zr=e=>Array.isArray(e)?e:[e];function Ic(e){const t=Array.isArray(e[0])?e[0]:e;return Pc(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function kc(e,t){const n=[],{length:r}=e;for(let o=0;o<r;o++)n.push(e[o].apply(null,t));return n}function Ac(e){let t;return{get(n){return t&&e(t.key,n)?t.value:En},put(n,r){t={key:n,value:r}},getEntries(){return t?[t]:[]},clear(){t=void 0}}}function Lc(e,t){let n=[];function r(c){const u=n.findIndex(l=>t(c,l.key));if(u>-1){const l=n[u];return u>0&&(n.splice(u,1),n.unshift(l)),l.value}return En}function o(c,u){r(c)===En&&(n.unshift({key:c,value:u}),n.length>e&&n.pop())}function s(){return n}function a(){n=[]}return{get:r,put:o,getEntries:s,clear:a}}var Nc=(e,t)=>e===t;function Fc(e){return function(n,r){if(n===null||r===null||n.length!==r.length)return!1;const{length:o}=n;for(let s=0;s<o;s++)if(!e(n[s],r[s]))return!1;return!0}}function Dc(e,t){const n=typeof t=="object"?t:{equalityCheck:t},{equalityCheck:r=Nc,maxSize:o=1,resultEqualityCheck:s}=n,a=Fc(r);let c=0;const u=o<=1?Ac(a):Lc(o,a);function l(){let d=u.get(arguments);if(d===En){if(d=e.apply(null,arguments),c++,s){const b=u.getEntries().find(m=>s(m.value,d));b&&(d=b.value,c!==0&&c--)}u.put(arguments,d)}return d}return l.clearCache=()=>{u.clear(),l.resetResultsCount()},l.resultsCount=()=>c,l.resetResultsCount=()=>{c=0},l}var Vc=class{constructor(e){this.value=e}deref(){return this.value}},Hc=typeof WeakRef<"u"?WeakRef:Vc,jc=0,Yr=1;function nn(){return{s:jc,v:void 0,o:null,p:null}}function ps(e,t={}){let n=nn();const{resultEqualityCheck:r}=t;let o,s=0;function a(){var f;let c=n;const{length:u}=arguments;for(let b=0,m=u;b<m;b++){const p=arguments[b];if(typeof p=="function"||typeof p=="object"&&p!==null){let g=c.o;g===null&&(c.o=g=new WeakMap);const E=g.get(p);E===void 0?(c=nn(),g.set(p,c)):c=E}else{let g=c.p;g===null&&(c.p=g=new Map);const E=g.get(p);E===void 0?(c=nn(),g.set(p,c)):c=E}}const l=c;let d;if(c.s===Yr)d=c.v;else if(d=e.apply(null,arguments),s++,r){const b=((f=o==null?void 0:o.deref)==null?void 0:f.call(o))??o;b!=null&&r(b,d)&&(d=b,s!==0&&s--),o=typeof d=="object"&&d!==null||typeof d=="function"?new Hc(d):d}return l.s=Yr,l.v=d,d}return a.clearCache=()=>{n=nn(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function ms(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...o)=>{let s=0,a=0,c,u={},l=o.pop();typeof l=="object"&&(u=l,l=o.pop()),Oc(l,`createSelector expects an output function after the inputs, but received: [${typeof l}]`);const d={...n,...u},{memoize:f,memoizeOptions:b=[],argsMemoize:m=ps,argsMemoizeOptions:p=[]}=d,g=zr(b),E=zr(p),h=Ic(o),y=f(function(){return s++,l.apply(null,arguments)},...g),v=m(function(){a++;const x=kc(h,arguments);return c=y.apply(null,x),c},...E);return Object.assign(v,{resultFunc:l,memoizedResultFunc:y,dependencies:h,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var Bc=ms(ps),_c=Object.assign((e,t=Bc)=>{Mc(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((a,c,u)=>(a[n[u]]=c,a),{}))},{withTypes:()=>_c});ms({memoize:Dc,memoizeOptions:{maxSize:1,equalityCheck:Object.is}});const oe=(e,t,n,r,o,s,...a)=>{if(a.length>0)throw new Error(vt(1));let c;if(e)c=e;else throw new Error("Missing arguments");return c},Zc=ho(19),$c=Zc?Kc:Uc;function Wc(e,t,n,r,o){return $c(e,t,n,r,o)}function Kc(e,t,n,r,o){const s=i.useCallback(()=>t(e.getSnapshot(),n,r,o),[e,t,n,r,o]);return ci.useSyncExternalStore(e.subscribe,s,s)}function Uc(e,t,n,r,o){return li.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,e.getSnapshot,s=>t(s,n,r,o))}class Kt{constructor(t){Oe(this,"subscribe",t=>(this.listeners.add(t),()=>{this.listeners.delete(t)}));Oe(this,"getSnapshot",()=>this.state);this.state=t,this.listeners=new Set,this.updateTick=0}setState(t){if(this.state===t)return;this.state=t,this.updateTick+=1;const n=this.updateTick;for(const r of this.listeners){if(n!==this.updateTick)return;r(t)}}update(t){for(const n in t)if(!Object.is(this.state[n],t[n])){Kt.prototype.setState.call(this,{...this.state,...t});return}}set(t,n){Object.is(this.state[t],n)||Kt.prototype.setState.call(this,{...this.state,[t]:n})}notifyAll(){const t={...this.state};Kt.prototype.setState.call(this,t)}}class mr extends Kt{constructor(n,r={},o){super(n);Oe(this,"controlledValues",new Map);Oe(this,"select",(n,r,o,s)=>{const a=this.selectors[n];return a(this.state,r,o,s)});Oe(this,"useState",(n,r,o,s)=>{i.useDebugValue(n);const a=this.selectors[n];return Wc(this,a,r,o,s)});this.context=r,this.selectors=o}useSyncedValue(n,r){i.useDebugValue(n),ae(()=>{this.state[n]!==r&&this.set(n,r)},[n,r])}useSyncedValueWithCleanup(n,r){const o=this;ae(()=>(o.state[n]!==r&&o.set(n,r),()=>{o.set(n,void 0)}),[o,n,r])}useSyncedValues(n){const r=this,o=Object.values(n);ae(()=>{r.update(n)},[r,...o])}useControlledProp(n,r,o){i.useDebugValue(n);const s=this,a=r!==void 0;this.controlledValues.has(n)||(this.controlledValues.set(n,a),!a&&!Object.is(this.state[n],o)&&super.setState({...this.state,[n]:o})),ae(()=>{a&&!Object.is(s.state[n],r)&&super.setState({...s.state,[n]:r})},[s,n,r,o,a])}set(n,r){this.controlledValues.get(n)!==!0&&super.set(n,r)}update(n){const r={...n};for(const o in r)if(Object.hasOwn(r,o)&&this.controlledValues.get(o)===!0){delete r[o];continue}super.update(r)}setState(n){const r={...n};for(const o in r)if(Object.hasOwn(r,o)&&this.controlledValues.get(o)===!0){delete r[o];continue}super.setState({...this.state,...r})}useContextCallback(n,r){i.useDebugValue(n);const o=te(r??mo);this.context[n]=o}useStateSetter(n){const r=i.useRef(void 0);return r.current===void 0&&(r.current=o=>{this.set(n,o)}),r.current}observe(n,r){let o;typeof n=="function"?o=n:o=this.selectors[n];let s=o(this.state);return r(s,s,this),this.subscribe(a=>{const c=o(a);if(!Object.is(s,c)){const u=s;s=c,r(c,u,this)}})}}const zc={open:oe(e=>e.open),domReferenceElement:oe(e=>e.domReferenceElement),referenceElement:oe(e=>e.positionReference??e.referenceElement),floatingElement:oe(e=>e.floatingElement),floatingId:oe(e=>e.floatingId)};class gr extends mr{constructor(n){const{nested:r,noEmit:o,onOpenChange:s,triggerElements:a,...c}=n;super({...c,positionReference:c.referenceElement,domReferenceElement:c.referenceElement},{onOpenChange:s,dataRef:{current:{}},events:Yo(),nested:r,noEmit:o,triggerElements:a},zc);Oe(this,"setOpen",(n,r)=>{var o,s;if((!n||!this.state.open||Do(r.event))&&(this.context.dataRef.current.openEvent=n?r.event:void 0),!this.context.noEmit){const a={open:n,reason:r.reason,nativeEvent:r.event,nested:this.context.nested,triggerElement:r.trigger};this.context.events.emit("openchange",a)}(s=(o=this.context).onOpenChange)==null||s.call(o,n,r)})}}function Yc(e,t){const n=i.useRef(null),r=i.useRef(null);return i.useCallback(o=>{if(e!==void 0){if(n.current!==null){const s=n.current,a=r.current,c=t.context.triggerElements.getById(s);a&&c===a&&t.context.triggerElements.delete(s),n.current=null,r.current=null}o!==null&&(n.current=e,r.current=o,t.context.triggerElements.add(e,o))}},[t,e])}function Gc(e,t,n,r){const o=n.useState("isMountedByTrigger",e),s=Yc(e,n),a=te(c=>{if(s(c),!c||!n.select("open"))return;const u=n.select("activeTriggerId");if(u===e){n.update({activeTriggerElement:c,...r});return}u==null&&n.update({activeTriggerId:e,activeTriggerElement:c,...r})});return ae(()=>{o&&n.update({activeTriggerElement:t.current,...r})},[o,n,t,...Object.values(r)]),{registerTrigger:a,isMountedByThisTrigger:o}}function gs(e){const t=e.useState("open");ae(()=>{if(t&&!e.select("activeTriggerId")&&e.context.triggerElements.size===1){const n=e.context.triggerElements.entries().next();if(!n.done){const[r,o]=n.value;e.update({activeTriggerId:r,activeTriggerElement:o})}}},[t,e])}function hs(e,t,n){const{mounted:r,setMounted:o,transitionStatus:s}=ui(e);t.useSyncedValues({mounted:r,transitionStatus:s});const a=te(()=>{var u,l;o(!1),t.update({activeTriggerId:null,activeTriggerElement:null,mounted:!1}),n==null||n(),(l=(u=t.context).onOpenChangeComplete)==null||l.call(u,!1)}),c=t.useState("preventUnmountingOnClose");return rr({enabled:!c,open:e,ref:t.context.popupRef,onComplete(){e||a()}}),{forceUnmount:a,transitionStatus:s}}class Tn{constructor(){this.elements=new Set,this.idMap=new Map}add(t,n){const r=this.idMap.get(t);r!==n&&(r!==void 0&&this.elements.delete(r),this.elements.add(n),this.idMap.set(t,n))}delete(t){const n=this.idMap.get(t);n&&(this.elements.delete(n),this.idMap.delete(t))}hasElement(t){return this.elements.has(t)}hasMatchingElement(t){for(const n of this.elements)if(t(n))return!0;return!1}getById(t){return this.idMap.get(t)}entries(){return this.idMap.entries()}get size(){return this.idMap.size}}function Xc(){return new gr({open:!1,floatingElement:null,referenceElement:null,triggerElements:new Tn,floatingId:"",nested:!1,noEmit:!1,onOpenChange:void 0})}function bs(){return{open:!1,mounted:!1,transitionStatus:"idle",floatingRootContext:Xc(),preventUnmountingOnClose:!1,payload:void 0,activeTriggerId:null,activeTriggerElement:null,popupElement:null,positionerElement:null,activeTriggerProps:ze,inactiveTriggerProps:ze,popupProps:ze}}const ys={open:oe(e=>e.open),mounted:oe(e=>e.mounted),transitionStatus:oe(e=>e.transitionStatus),floatingRootContext:oe(e=>e.floatingRootContext),preventUnmountingOnClose:oe(e=>e.preventUnmountingOnClose),payload:oe(e=>e.payload),activeTriggerId:oe(e=>e.activeTriggerId),activeTriggerElement:oe(e=>e.mounted?e.activeTriggerElement:null),isTriggerActive:oe((e,t)=>t!==void 0&&e.activeTriggerId===t),isOpenedByTrigger:oe((e,t)=>t!==void 0&&e.activeTriggerId===t&&e.open),isMountedByTrigger:oe((e,t)=>t!==void 0&&e.activeTriggerId===t&&e.mounted),triggerProps:oe((e,t)=>t?e.activeTriggerProps:e.inactiveTriggerProps),popupProps:oe(e=>e.popupProps),popupElement:oe(e=>e.popupElement),positionerElement:oe(e=>e.positionerElement)};function qc(e){const{open:t=!1,onOpenChange:n,elements:r={}}=e,o=Dt(),s=ot()!=null,a=et(()=>new gr({open:t,onOpenChange:n,referenceElement:r.reference??null,floatingElement:r.floating??null,triggerElements:r.triggers??new Tn,floatingId:o,nested:s,noEmit:e.noEmit||!1})).current;return ae(()=>{const c={open:t,floatingId:o};r.reference!==void 0&&(c.referenceElement=r.reference,c.domReferenceElement=xe(r.reference)?r.reference:null),r.floating!==void 0&&(c.floatingElement=r.floating),a.update(c)},[t,o,r.reference,r.floating,a]),a.context.onOpenChange=n,a.context.nested=s,a.context.noEmit=e.noEmit||!1,a}function Jc(e={}){const{nodeId:t,externalTree:n}=e,r=qc(e),o=e.rootContext||r,s={reference:o.useState("referenceElement"),floating:o.useState("floatingElement"),domReference:o.useState("domReferenceElement")},[a,c]=i.useState(null),u=i.useRef(null),l=ft(n);ae(()=>{s.domReference&&(u.current=s.domReference)},[s.domReference]);const d=yc({...e,elements:{...s,...a&&{reference:a}}}),f=i.useCallback(I=>{const k=xe(I)?{getBoundingClientRect:()=>I.getBoundingClientRect(),getClientRects:()=>I.getClientRects(),contextElement:I}:I;c(k),d.refs.setReference(k)},[d.refs]),[b,m]=i.useState(null),[p,g]=i.useState(null);o.useSyncedValue("referenceElement",b),o.useSyncedValue("domReferenceElement",xe(b)?b:null),o.useSyncedValue("floatingElement",p);const E=i.useCallback(I=>{(xe(I)||I===null)&&(u.current=I,m(I)),(xe(d.refs.reference.current)||d.refs.reference.current===null||I!==null&&!xe(I))&&d.refs.setReference(I)},[d.refs,m]),h=i.useCallback(I=>{g(I),d.refs.setFloating(I)},[d.refs]),y=i.useMemo(()=>({...d.refs,setReference:E,setFloating:h,setPositionReference:f,domReference:u}),[d.refs,E,h,f]),v=i.useMemo(()=>({...d.elements,domReference:s.domReference}),[d.elements,s.domReference]),w=o.useState("open"),x=o.useState("floatingId"),M=i.useMemo(()=>({...d,dataRef:o.context.dataRef,open:w,onOpenChange:o.setOpen,events:o.context.events,floatingId:x,refs:y,elements:v,nodeId:t,rootStore:o}),[d,y,v,t,o,w,x]);return ae(()=>{o.context.dataRef.current.floatingContext=M;const I=l==null?void 0:l.nodesRef.current.find(k=>k.id===t);I&&(I.context=M)}),i.useMemo(()=>({...d,context:M,refs:y,elements:v,rootStore:o}),[d,y,v,M,o])}function xs(e){const{popupStore:t,noEmit:n=!1,treatPopupAsFloatingElement:r=!1,onOpenChange:o}=e,s=Dt(),a=ot()!=null,c=t.useState("open"),u=t.useState("activeTriggerElement"),l=t.useState(r?"popupElement":"positionerElement"),d=t.context.triggerElements,f=et(()=>new gr({open:c,referenceElement:u,floatingElement:l,triggerElements:d,onOpenChange:o,floatingId:s,nested:a,noEmit:n})).current;return ae(()=>{const b={open:c,floatingId:s,referenceElement:u,floatingElement:l};xe(u)&&(b.domReferenceElement=u),f.state.positionReference===f.state.referenceElement&&(b.positionReference=u),f.update(b)},[c,s,u,l,f]),f.context.onOpenChange=o,f.context.nested=a,f.context.noEmit=n,f}const jn=Ai&&Mo;function Qc(e,t={}){const n="rootStore"in e?e.rootStore:e,{events:r,dataRef:o}=n.context,{enabled:s=!0,visibleOnly:a=!0,delay:c}=t,u=i.useRef(!1),l=i.useRef(null),d=Be(),f=i.useRef(!0);i.useEffect(()=>{const m=n.select("domReferenceElement");if(!s)return;const p=$e(m);function g(){const y=n.select("domReferenceElement");!n.select("open")&&Pe(y)&&y===Ge(Ce(y))&&(u.current=!0)}function E(){f.current=!0}function h(){f.current=!1}return p.addEventListener("blur",g),jn&&(p.addEventListener("keydown",E,!0),p.addEventListener("pointerdown",h,!0)),()=>{p.removeEventListener("blur",g),jn&&(p.removeEventListener("keydown",E,!0),p.removeEventListener("pointerdown",h,!0))}},[n,s]),i.useEffect(()=>{if(!s)return;function m(p){if(p.reason===mt||p.reason===nr){const g=n.select("domReferenceElement");xe(g)&&(l.current=g,u.current=!0)}}return r.on("openchange",m),()=>{r.off("openchange",m)}},[r,s,n]);const b=i.useMemo(()=>({onMouseLeave(){u.current=!1,l.current=null},onFocus(m){const p=m.currentTarget;if(u.current){if(l.current===p)return;u.current=!1,l.current=null}const g=Fe(m.nativeEvent);if(a&&xe(g)){if(jn&&!m.relatedTarget){if(!f.current&&!ir(g))return}else if(!Wi(g))return}const E=m.relatedTarget&&n.context.triggerElements.hasElement(m.relatedTarget),{nativeEvent:h,currentTarget:y}=m,v=typeof c=="function"?c():c;if(n.select("open")&&E||v===0||v===void 0){n.setOpen(!0,ge(Zt,h,y));return}d.start(v,()=>{u.current||n.setOpen(!0,ge(Zt,h,y))})},onBlur(m){u.current=!1,l.current=null;const p=m.relatedTarget,g=m.nativeEvent,E=xe(p)&&p.hasAttribute(Nt("focus-guard"))&&p.getAttribute("data-type")==="outside";d.start(0,()=>{var w;const h=n.select("domReferenceElement"),y=Ge(h?h.ownerDocument:document);if(!p&&y===h||pe((w=o.current.floatingContext)==null?void 0:w.refs.floating.current,y)||pe(h,y)||E)return;const v=p??y;if(xe(v)){const x=n.context.triggerElements;if(x.hasElement(v)||x.hasMatchingElement(M=>pe(M,v)))return}n.setOpen(!1,ge(Zt,g))})}}),[o,n,a,d,c]);return i.useMemo(()=>s?{reference:b,trigger:b}:{},[s,b])}const qn=Nt("safe-polygon"),el=`button,a,[role="button"],select,[tabindex]:not([tabindex="-1"]),${Lo}`;function tl(e){return e?!!e.closest(el):!1}function vs(e){const t=i.useRef(void 0),n=i.useRef(!1),r=i.useRef(void 0),o=i.useRef(!0),s=i.useRef(!1),a=i.useRef(()=>{}),c=i.useRef(!1),u=Be(),l=Be(),d=i.useRef(void 0);return i.useMemo(()=>{const f=e.context.dataRef.current;return f.hoverInteractionState||(f.hoverInteractionState={pointerTypeRef:t,interactedInsideRef:n,handlerRef:r,blockMouseMoveRef:o,performedPointerEventsMutationRef:s,unbindMouseMoveRef:a,restTimeoutPendingRef:c,openChangeTimeout:u,restTimeout:l,handleCloseOptionsRef:d}),f.hoverInteractionState},[e,t,n,r,o,s,a,c,u,l,d])}const nl=new Set(["click","mousedown"]);function rl(e,t={}){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),o=n.useState("floatingElement"),s=n.useState("domReferenceElement"),{dataRef:a}=n.context,{enabled:c=!0,closeDelay:u=0,externalTree:l}=t,{pointerTypeRef:d,interactedInsideRef:f,handlerRef:b,performedPointerEventsMutationRef:m,unbindMouseMoveRef:p,restTimeoutPendingRef:g,openChangeTimeout:E,handleCloseOptionsRef:h}=vs(n),y=ft(l),v=ot(),w=te(()=>f.current?!0:a.current.openEvent?nl.has(a.current.openEvent.type):!1),x=te(()=>{var H;const N=(H=a.current.openEvent)==null?void 0:H.type;return(N==null?void 0:N.includes("mouse"))&&N!=="mousedown"}),M=i.useCallback((N,H=!0)=>{const L=ol(u,d.current);L&&!b.current?E.start(L,()=>n.setOpen(!1,ge(De,N))):H&&(E.clear(),n.setOpen(!1,ge(De,N)))},[u,b,n,d,E]),I=te(()=>{p.current(),b.current=void 0}),k=te(()=>{if(m.current){const N=Ce(o).body;N.style.pointerEvents="",N.removeAttribute(qn),m.current=!1}}),D=te(N=>{const H=Fe(N);if(!tl(H)){f.current=!1;return}f.current=!0});ae(()=>{r||(d.current=void 0,g.current=!1,f.current=!1,I(),k())},[r,d,g,f,I,k]),i.useEffect(()=>()=>{I()},[I]),i.useEffect(()=>k,[k]),ae(()=>{var N,H,L;if(c&&r&&(N=h.current)!=null&&N.blockPointerEvents&&x()&&xe(s)&&o){m.current=!0;const O=Ce(o).body;O.setAttribute(qn,"");const j=s,S=o,B=(L=(H=y==null?void 0:y.nodesRef.current.find(ee=>ee.id===v))==null?void 0:H.context)==null?void 0:L.elements.floating;return B&&(B.style.pointerEvents=""),O.style.pointerEvents="none",j.style.pointerEvents="auto",S.style.pointerEvents="auto",()=>{O.style.pointerEvents="",j.style.pointerEvents="",S.style.pointerEvents=""}}},[c,r,s,o,h,x,y,v,m]),i.useEffect(()=>{if(!c)return;function N(j){if(w()||!a.current.floatingContext||!n.select("open"))return;const S=n.context.triggerElements;j.relatedTarget&&S.hasElement(j.relatedTarget)||(k(),I(),w()||M(j))}function H(j){var S;E.clear(),k(),(S=b.current)==null||S.call(b,j),I()}function L(j){w()||M(j,!1)}const O=o;return O&&(O.addEventListener("mouseleave",N),O.addEventListener("mouseenter",H),O.addEventListener("mouseleave",L),O.addEventListener("pointerdown",D,!0)),()=>{O&&(O.removeEventListener("mouseleave",N),O.removeEventListener("mouseenter",H),O.removeEventListener("mouseleave",L),O.removeEventListener("pointerdown",D,!0))}})}function ol(e,t){return t&&!kt(t)?0:typeof e=="function"?e():e}function Bn(e){return typeof e=="function"?e():e}const sl={current:null};function il(e,t={}){var ee;const n="rootStore"in e?e.rootStore:e,{dataRef:r,events:o}=n.context,{enabled:s=!0,delay:a=0,handleClose:c=null,mouseOnly:u=!1,restMs:l=0,move:d=!0,triggerElementRef:f=sl,externalTree:b,isActiveTrigger:m=!0}=t,p=ft(b),{pointerTypeRef:g,interactedInsideRef:E,handlerRef:h,blockMouseMoveRef:y,performedPointerEventsMutationRef:v,unbindMouseMoveRef:w,restTimeoutPendingRef:x,openChangeTimeout:M,restTimeout:I,handleCloseOptionsRef:k}=vs(n),D=Ne(c),N=Ne(a),H=Ne(l);m&&(k.current=(ee=D.current)==null?void 0:ee.__options);const L=te(()=>E.current?!0:r.current.openEvent?["click","mousedown"].includes(r.current.openEvent.type):!1),O=i.useCallback((C,P=!0)=>{const A=Nn(N.current,"close",g.current);A&&!h.current?M.start(A,()=>n.setOpen(!1,ge(De,C))):P&&(M.clear(),n.setOpen(!1,ge(De,C)))},[N,h,n,g,M]),j=te(()=>{w.current(),h.current=void 0}),S=te(()=>{if(v.current){const C=Ce(n.select("domReferenceElement")).body;C.style.pointerEvents="",C.removeAttribute(qn),v.current=!1}});i.useEffect(()=>{if(!s)return;function C(P){P.open||(M.clear(),I.clear(),y.current=!0,x.current=!1)}return o.on("openchange",C),()=>{o.off("openchange",C)}},[s,o,M,I,y,x]);const B=te(C=>{var G;if(L()||!r.current.floatingContext)return;const P=n.context.triggerElements;if(C.relatedTarget&&P.hasElement(C.relatedTarget))return;const A=f.current;(G=D.current)==null||G.call(D,{...r.current.floatingContext,tree:p,x:C.clientX,y:C.clientY,onClose(){S(),j(),!L()&&A===n.select("domReferenceElement")&&O(C)}})(C)});return i.useEffect(()=>{if(!s)return;const C=f.current??(m?n.select("domReferenceElement"):null);if(!xe(C))return;function P(K){if(M.clear(),y.current=!1,u&&!kt(g.current)||Bn(H.current)>0&&!Nn(N.current,"open"))return;const _=Nn(N.current,"open",g.current),ie=n.select("domReferenceElement"),ne=n.context.triggerElements,q=(ne.hasElement(K.target)||ne.hasMatchingElement(de=>pe(de,K.target)))&&(!ie||!pe(ie,K.target)),X=K.currentTarget??null,ue=n.select("open"),fe=!ue||q;q&&ue?n.setOpen(!0,ge(De,K,X)):_?M.start(_,()=>{fe&&n.setOpen(!0,ge(De,K,X))}):fe&&n.setOpen(!0,ge(De,K,X))}function A(K){if(L()){S();return}w.current();const _=n.select("domReferenceElement"),ie=Ce(_);I.clear(),x.current=!1;const ne=n.context.triggerElements;if(K.relatedTarget&&ne.hasElement(K.relatedTarget))return;if(D.current&&r.current.floatingContext){n.select("open")||M.clear();const X=f.current;h.current=D.current({...r.current.floatingContext,tree:p,x:K.clientX,y:K.clientY,onClose(){S(),j(),!L()&&X===n.select("domReferenceElement")&&O(K,!0)}});const ue=h.current;ue(K),ie.addEventListener("mousemove",ue),w.current=()=>{ie.removeEventListener("mousemove",ue)};return}(g.current==="touch"?!pe(n.select("floatingElement"),K.relatedTarget):!0)&&O(K)}function G(K){B(K)}return n.select("open")&&C.addEventListener("mouseleave",G),d&&C.addEventListener("mousemove",P,{once:!0}),C.addEventListener("mouseenter",P),C.addEventListener("mouseleave",A),()=>{C.removeEventListener("mouseleave",G),d&&C.removeEventListener("mousemove",P),C.removeEventListener("mouseenter",P),C.removeEventListener("mouseleave",A)}},[j,S,y,r,N,O,n,s,D,B,m,L,u,d,g,H,I,x,M,f,p,w,h]),i.useMemo(()=>{function C(P){g.current=P.pointerType}return{onPointerDown:C,onPointerEnter:C,onMouseMove(P){const{nativeEvent:A}=P,G=P.currentTarget,K=n.select("domReferenceElement"),_=n.context.triggerElements,ie=n.select("open"),ne=(_.hasElement(P.target)||_.hasMatchingElement(X=>pe(X,P.target)))&&(!K||!pe(K,P.target));if(u&&!kt(g.current)||ie&&!ne||Bn(H.current)===0||!ne&&x.current&&P.movementX**2+P.movementY**2<2)return;I.clear();function q(){if(x.current=!1,L())return;const X=n.select("open");!y.current&&(!X||ne)&&n.setOpen(!0,ge(De,A,G))}g.current==="touch"?ht.flushSync(()=>{q()}):ne&&ie?q():(x.current=!0,I.start(Bn(H.current),q))}}},[y,L,u,n,g,H,I,x])}function hr(e=[]){const t=e.map(l=>l==null?void 0:l.reference),n=e.map(l=>l==null?void 0:l.floating),r=e.map(l=>l==null?void 0:l.item),o=e.map(l=>l==null?void 0:l.trigger),s=i.useCallback(l=>rn(l,e,"reference"),t),a=i.useCallback(l=>rn(l,e,"floating"),n),c=i.useCallback(l=>rn(l,e,"item"),r),u=i.useCallback(l=>rn(l,e,"trigger"),o);return i.useMemo(()=>({getReferenceProps:s,getFloatingProps:a,getItemProps:c,getTriggerProps:u}),[s,a,c,u])}function rn(e,t,n){var a;const r=new Map,o=n==="item",s={};n==="floating"&&(s.tabIndex=-1,s[Kn]="");for(const c in e)o&&e&&(c===ko||c===Ao)||(s[c]=e[c]);for(let c=0;c<t.length;c+=1){let u;const l=(a=t[c])==null?void 0:a[n];typeof l=="function"?u=e?l(e):null:u=l,u&&Gr(s,u,o,r)}return Gr(s,e,o,r),s}function Gr(e,t,n,r){var o;for(const s in t){const a=t[s];n&&(s===ko||s===Ao)||(s.startsWith("on")?(r.has(s)||r.set(s,[]),typeof a=="function"&&((o=r.get(s))==null||o.push(a),e[s]=(...c)=>{var u;return(u=r.get(s))==null?void 0:u.map(l=>l(...c)).find(l=>l!==void 0)})):e[s]=a)}}const al="Escape";function On(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function on(e,t){return On(t,e===sr||e===Gt,e===ct||e===lt)}function _n(e,t,n){return On(t,e===Gt,n?e===ct:e===lt)||e==="Enter"||e===" "||e===""}function cl(e,t,n){return On(t,n?e===ct:e===lt,e===Gt)}function ll(e,t,n,r){const o=n?e===lt:e===ct,s=e===sr;return t==="both"||t==="horizontal"&&r&&r>1?e===al:On(t,o,s)}function ul(e,t){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),o=n.useState("floatingElement"),s=n.useState("domReferenceElement"),a=n.context.dataRef,{listRef:c,activeIndex:u,onNavigate:l=()=>{},enabled:d=!0,selectedIndex:f=null,allowEscape:b=!1,loopFocus:m=!1,nested:p=!1,rtl:g=!1,virtual:E=!1,focusItemOnOpen:h="auto",focusItemOnHover:y=!0,openOnArrowKeyDown:v=!0,disabledIndices:w=void 0,orientation:x="vertical",parentOrientation:M,cols:I=1,scrollItemIntoView:k=!0,itemSizes:D,dense:N=!1,id:H,resetOnPointerLeave:L=!0,externalTree:O}=t,j=dn(o),S=Ne(j),B=ot(),ee=ft(O);ae(()=>{a.current.orientation=x},[a,x]);const C=Un(s),P=i.useRef(h),A=i.useRef(f??-1),G=i.useRef(null),K=i.useRef(!0),_=te(V=>{l(A.current===-1?null:A.current,V)}),ie=i.useRef(_),ne=i.useRef(!!o),q=i.useRef(r),X=i.useRef(!1),ue=i.useRef(!1),fe=Ne(w),de=Ne(r),le=Ne(k),R=Ne(f),z=Ne(L),U=te(()=>{function V(be){E?ee==null||ee.events.emit("virtualfocus",be):cn(be,{sync:X.current,preventScroll:!0})}const Y=c.current[A.current],W=ue.current;Y&&V(Y),(X.current?be=>be():requestAnimationFrame)(()=>{var Re;const be=c.current[A.current]||Y;if(!be)return;Y||V(be);const Ee=le.current;Ee&&F&&(W||!K.current)&&((Re=be.scrollIntoView)==null||Re.call(be,typeof Ee=="boolean"?{block:"nearest",inline:"nearest"}:Ee))})});ae(()=>{d&&(r&&o?(A.current=f??-1,P.current&&f!=null&&(ue.current=!0,_())):ne.current&&(A.current=-1,ie.current()))},[d,r,o,f,_]),ae(()=>{if(d){if(!r){X.current=!1;return}if(o)if(u==null){if(X.current=!1,R.current!=null)return;if(ne.current&&(A.current=-1,U()),(!q.current||!ne.current)&&P.current&&(G.current!=null||P.current===!0&&G.current==null)){let V=0;const Y=()=>{c.current[0]==null?(V<2&&(V?requestAnimationFrame:queueMicrotask)(Y),V+=1):(A.current=G.current==null||_n(G.current,x,g)||p?Ln(c):Ar(c),G.current=null,_())};Y()}}else $t(c,u)||(A.current=u,U(),ue.current=!1)}},[d,r,o,u,R,p,c,x,g,_,U,fe]),ae(()=>{var be,Ee;if(!d||o||!ee||E||!ne.current)return;const V=ee.nodesRef.current,Y=(Ee=(be=V.find(ye=>ye.id===B))==null?void 0:be.context)==null?void 0:Ee.elements.floating,W=Ge(Ce(o)),me=V.some(ye=>ye.context&&pe(ye.context.elements.floating,W));Y&&!me&&K.current&&Y.focus({preventScroll:!0})},[d,o,ee,B,E]),ae(()=>{ie.current=_,q.current=r,ne.current=!!o}),ae(()=>{r||(G.current=null,P.current=h)},[r,h]);const he=u!=null,F=i.useMemo(()=>{function V(W){if(!de.current)return;const me=c.current.indexOf(W.currentTarget);me!==-1&&A.current!==me&&(A.current=me,_(W))}return{onFocus(W){X.current=!0,V(W)},onClick:({currentTarget:W})=>W.focus({preventScroll:!0}),onMouseMove(W){X.current=!0,ue.current=!1,y&&V(W)},onPointerLeave(W){var be;if(!de.current||!K.current||W.pointerType==="touch")return;X.current=!0;const me=W.relatedTarget;!y||c.current.includes(me)||z.current&&(A.current=-1,_(W),E||(be=S.current)==null||be.focus({preventScroll:!0}))}}},[de,S,y,c,_,z,E]),Z=i.useCallback(()=>{var V,Y,W;return M??((W=(Y=(V=ee==null?void 0:ee.nodesRef.current.find(me=>me.id===B))==null?void 0:V.context)==null?void 0:Y.dataRef)==null?void 0:W.current.orientation)},[B,ee,M]),$=te(V=>{if(K.current=!1,X.current=!0,V.which===229||!de.current&&V.currentTarget===S.current)return;if(p&&ll(V.key,x,g,I)){on(V.key,Z())||Le(V),n.setOpen(!1,ge(an,V.nativeEvent)),Pe(s)&&(E?ee==null||ee.events.emit("virtualfocus",s):s.focus());return}const Y=A.current,W=Ln(c,w),me=Ar(c,w);if(C||(V.key==="Home"&&(Le(V),A.current=W,_(V)),V.key==="End"&&(Le(V),A.current=me,_(V))),I>1){const be=D||Array.from({length:c.current.length},()=>({width:1,height:1})),Ee=oa(be,I,N),ye=Ee.findIndex(Ie=>Ie!=null&&!Wt(c,Ie,w)),Re=Ee.reduce((Ie,We,ce)=>We!=null&&!Wt(c,We,w)?ce:Ie,-1),Se=Ee[ra({current:Ee.map(Ie=>Ie!=null?c.current[Ie]:null)},{event:V,orientation:x,loopFocus:m,rtl:g,cols:I,disabledIndices:ia([...(typeof w!="function"?w:null)||c.current.map((Ie,We)=>Wt(c,We,w)?We:void 0),void 0],Ee),minIndex:ye,maxIndex:Re,prevIndex:sa(A.current>me?W:A.current,be,Ee,I,V.key===Gt?"bl":V.key===(g?ct:lt)?"tr":"tl"),stopEvent:!0})];if(Se!=null&&(A.current=Se,_(V)),x==="both")return}if(on(V.key,x)){if(Le(V),r&&!E&&Ge(V.currentTarget.ownerDocument)===V.currentTarget){A.current=_n(V.key,x,g)?W:me,_(V);return}_n(V.key,x,g)?m?Y>=me?b&&Y!==c.current.length?A.current=-1:(X.current=!1,A.current=W):A.current=Ae(c,{startingIndex:Y,disabledIndices:w}):A.current=Math.min(me,Ae(c,{startingIndex:Y,disabledIndices:w})):m?Y<=W?b&&Y!==-1?A.current=c.current.length:(X.current=!1,A.current=me):A.current=Ae(c,{startingIndex:Y,decrement:!0,disabledIndices:w}):A.current=Math.max(W,Ae(c,{startingIndex:Y,decrement:!0,disabledIndices:w})),$t(c,A.current)&&(A.current=-1),_(V)}}),J=i.useMemo(()=>E&&r&&he&&{"aria-activedescendant":`${H}-${u}`},[E,r,he,H,u]),re=i.useMemo(()=>({"aria-orientation":x==="both"?void 0:x,...C?{}:J,onKeyDown(V){if(V.key==="Tab"&&V.shiftKey&&r&&!E){const Y=Fe(V.nativeEvent);if(Y&&!pe(S.current,Y))return;Le(V),n.setOpen(!1,ge(It,V.nativeEvent)),Pe(s)&&s.focus();return}$(V)},onPointerMove(){K.current=!0}}),[J,$,S,x,C,n,r,E,s]),Q=i.useMemo(()=>{function V(W){h==="auto"&&No(W.nativeEvent)&&(P.current=!E)}function Y(W){P.current=h,h==="auto"&&Fo(W.nativeEvent)&&(P.current=!0)}return{onKeyDown(W){const me=n.select("open");K.current=!1;const be=W.key.startsWith("Arrow"),Ee=cl(W.key,Z(),g),ye=on(W.key,x),Re=(p?Ee:ye)||W.key==="Enter"||W.key.trim()==="";if(E&&me)return $(W);if(!(!me&&!v&&be)){if(Re){const Se=on(W.key,Z());G.current=p&&Se?null:W.key}if(p){Ee&&(Le(W),me?(A.current=Ln(c,fe.current),_(W)):n.setOpen(!0,ge(an,W.nativeEvent,W.currentTarget)));return}ye&&(R.current!=null&&(A.current=R.current),Le(W),!me&&v?n.setOpen(!0,ge(an,W.nativeEvent,W.currentTarget)):$(W),me&&_(W))}},onFocus(W){n.select("open")&&!E&&(A.current=-1,_(W))},onPointerDown:Y,onPointerEnter:Y,onMouseDown:V,onClick:V}},[$,fe,h,c,p,_,n,v,x,Z,g,R,E]),se=i.useMemo(()=>({...J,...Q}),[J,Q]);return i.useMemo(()=>d?{reference:se,floating:re,item:F,trigger:Q}:{},[d,se,re,Q,F])}const fl=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function Es(e,t={}){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),o=n.useState("floatingId"),s=n.useState("domReferenceElement"),a=n.useState("floatingElement"),{enabled:c=!0,role:u="dialog"}=t,l=Dt(),d=(s==null?void 0:s.id)||l,f=i.useMemo(()=>{var v;return((v=dn(a))==null?void 0:v.id)||o},[a,o]),b=fl.get(u)??u,p=ot()!=null,g=i.useMemo(()=>b==="tooltip"||u==="label"?ze:{"aria-haspopup":b==="alertdialog"?"dialog":b,"aria-expanded":"false",...b==="listbox"&&{role:"combobox"},...b==="menu"&&p&&{role:"menuitem"},...u==="select"&&{"aria-autocomplete":"none"},...u==="combobox"&&{"aria-autocomplete":"list"}},[b,p,u]),E=i.useMemo(()=>b==="tooltip"||u==="label"?{[`aria-${u==="label"?"labelledby":"describedby"}`]:r?f:void 0}:{...g,"aria-expanded":r?"true":"false","aria-controls":r?f:void 0,...b==="menu"&&{id:d}},[b,f,r,d,u,g]),h=i.useMemo(()=>{const v={id:f,...b&&{role:b}};return b==="tooltip"||u==="label"?v:{...v,...b==="menu"&&{"aria-labelledby":d}}},[b,f,d,u]),y=i.useCallback(({active:v,selected:w})=>{const x={role:"option",...v&&{id:`${f}-fui-option`}};switch(u){case"select":case"combobox":return{...x,"aria-selected":w}}return{}},[f,u]);return i.useMemo(()=>c?{reference:E,floating:h,item:y,trigger:g}:{},[c,E,h,g,y])}function dl(e,t){const n="rootStore"in e?e.rootStore:e,r=n.useState("open"),o=n.context.dataRef,{listRef:s,activeIndex:a,onMatch:c,onTypingChange:u,enabled:l=!0,findMatch:d=null,resetMs:f=750,ignoreKeys:b=fn,selectedIndex:m=null}=t,p=Be(),g=i.useRef(""),E=i.useRef(m??a??-1),h=i.useRef(null);ae(()=>{r&&(p.clear(),h.current=null,g.current="")},[r,p]),ae(()=>{r&&g.current===""&&(E.current=m??a??-1)},[r,m,a]);const y=te(M=>{M?o.current.typing||(o.current.typing=M,u==null||u(M)):o.current.typing&&(o.current.typing=M,u==null||u(M))}),v=te(M=>{function I(L,O,j){const S=d?d(O,j):O.find(B=>(B==null?void 0:B.toLocaleLowerCase().indexOf(j.toLocaleLowerCase()))===0);return S?L.indexOf(S):-1}const k=s.current;if(g.current.length>0&&g.current[0]!==" "&&(I(k,k,g.current)===-1?y(!1):M.key===" "&&Le(M)),k==null||b.includes(M.key)||M.key.length!==1||M.ctrlKey||M.metaKey||M.altKey)return;r&&M.key!==" "&&(Le(M),y(!0)),k.every(L=>{var O,j;return L?((O=L[0])==null?void 0:O.toLocaleLowerCase())!==((j=L[1])==null?void 0:j.toLocaleLowerCase()):!0})&&g.current===M.key&&(g.current="",E.current=h.current),g.current+=M.key,p.start(f,()=>{g.current="",E.current=h.current,y(!1)});const N=E.current,H=I(k,[...k.slice((N||0)+1),...k.slice(0,(N||0)+1)],g.current);H!==-1?(c==null||c(H),h.current=H):M.key!==" "&&(g.current="",y(!1))}),w=i.useMemo(()=>({onKeyDown:v}),[v]),x=i.useMemo(()=>({onKeyDown:v,onKeyUp(M){M.key===" "&&y(!1)}}),[v,y]);return i.useMemo(()=>l?{reference:w,floating:x}:{},[l,w,x])}function Xr(e,t){const[n,r]=e;let o=!1;const s=t.length;for(let a=0,c=s-1;a<s;c=a++){const[u,l]=t[a]||[0,0],[d,f]=t[c]||[0,0];l>=r!=f>=r&&n<=(d-u)*(r-l)/(f-l)+u&&(o=!o)}return o}function pl(e,t){return e[0]>=t.x&&e[0]<=t.x+t.width&&e[1]>=t.y&&e[1]<=t.y+t.height}function ml(e={}){const{buffer:t=.5,blockPointerEvents:n=!1,requireIntent:r=!0}=e,o=new yt;let s=!1,a=null,c=null,u=typeof performance<"u"?performance.now():0;function l(f,b){const m=performance.now(),p=m-u;if(a===null||c===null||p===0)return a=f,c=b,u=m,null;const g=f-a,E=b-c,y=Math.sqrt(g*g+E*E)/p;return a=f,c=b,u=m,y}const d=({x:f,y:b,placement:m,elements:p,onClose:g,nodeId:E,tree:h})=>function(v){function w(){o.clear(),g()}if(o.clear(),!p.domReference||!p.floating||m==null||f==null||b==null)return;const{clientX:x,clientY:M}=v,I=[x,M],k=Fe(v),D=v.type==="mouseleave",N=pe(p.floating,k),H=pe(p.domReference,k),L=p.domReference.getBoundingClientRect(),O=p.floating.getBoundingClientRect(),j=m.split("-")[0],S=f>O.right-O.width/2,B=b>O.bottom-O.height/2,ee=pl(I,L),C=O.width>L.width,P=O.height>L.height,A=(C?L:O).left,G=(C?L:O).right,K=(P?L:O).top,_=(P?L:O).bottom;if(N&&(s=!0,!D))return;if(H&&(s=!1),H&&!D){s=!0;return}if(D&&xe(v.relatedTarget)&&pe(p.floating,v.relatedTarget)||h&&gt(h.nodesRef.current,E).some(({context:q})=>q==null?void 0:q.open))return;if(j==="top"&&b>=L.bottom-1||j==="bottom"&&b<=L.top+1||j==="left"&&f>=L.right-1||j==="right"&&f<=L.left+1)return w();let ie=[];switch(j){case"top":ie=[[A,L.top+1],[A,O.bottom-1],[G,O.bottom-1],[G,L.top+1]];break;case"bottom":ie=[[A,O.top+1],[A,L.bottom-1],[G,L.bottom-1],[G,O.top+1]];break;case"left":ie=[[O.right-1,_],[O.right-1,K],[L.left+1,K],[L.left+1,_]];break;case"right":ie=[[L.right-1,_],[L.right-1,K],[O.left+1,K],[O.left+1,_]];break}function ne([q,X]){switch(j){case"top":{const ue=[C?q+t/2:S?q+t*4:q-t*4,X+t+1],fe=[C?q-t/2:S?q+t*4:q-t*4,X+t+1],de=[[O.left,S||C?O.bottom-t:O.top],[O.right,S?C?O.bottom-t:O.top:O.bottom-t]];return[ue,fe,...de]}case"bottom":{const ue=[C?q+t/2:S?q+t*4:q-t*4,X-t],fe=[C?q-t/2:S?q+t*4:q-t*4,X-t],de=[[O.left,S||C?O.top+t:O.bottom],[O.right,S?C?O.top+t:O.bottom:O.top+t]];return[ue,fe,...de]}case"left":{const ue=[q+t+1,P?X+t/2:B?X+t*4:X-t*4],fe=[q+t+1,P?X-t/2:B?X+t*4:X-t*4];return[...[[B||P?O.right-t:O.left,O.top],[B?P?O.right-t:O.left:O.right-t,O.bottom]],ue,fe]}case"right":{const ue=[q-t,P?X+t/2:B?X+t*4:X-t*4],fe=[q-t,P?X-t/2:B?X+t*4:X-t*4],de=[[B||P?O.left+t:O.right,O.top],[B?P?O.left+t:O.right:O.left+t,O.bottom]];return[ue,fe,...de]}default:return[]}}if(!Xr([x,M],ie)){if(s&&!ee)return w();if(!D&&r){const q=l(v.clientX,v.clientY);if(q!==null&&q<.1)return w()}Xr([x,M],ne([f,b]))?!s&&r&&o.start(40,w):w()}};return d.__options={blockPointerEvents:n},d}function gl(e){const t=i.useRef(""),n=i.useCallback(o=>{o.defaultPrevented||(t.current=o.pointerType,e(o,o.pointerType))},[e]);return{onClick:i.useCallback(o=>{if(o.detail===0){e(o,"keyboard");return}"pointerType"in o&&e(o,o.pointerType),e(o,t.current),t.current=""},[e]),onPointerDown:n}}function ws(e){const[t,n]=i.useState(null),r=te((c,u)=>{e||n(u||(Oo?"touch":""))}),o=i.useCallback(()=>{n(null)},[]),{onClick:s,onPointerDown:a}=gl(r);return i.useMemo(()=>({openMethod:t,reset:o,triggerProps:{onClick:s,onPointerDown:a}}),[t,o,s,a])}function hl(e){const{store:t,parentContext:n,actionsRef:r}=e,o=t.useState("open"),s=t.useState("disablePointerDismissal"),a=t.useState("modal"),c=t.useState("popupElement"),{openMethod:u,triggerProps:l,reset:d}=ws(o);gs(t);const{forceUnmount:f}=hs(o,t,()=>{d()}),b=te(N=>{const H=ge(N);return H.preventUnmountOnClose=()=>{t.set("preventUnmountingOnClose",!0)},H}),m=i.useCallback(()=>{t.setOpen(!1,b(bo))},[t,b]);i.useImperativeHandle(r,()=>({unmount:f,close:m}),[f,m]);const p=xs({popupStore:t,onOpenChange:t.setOpen,treatPopupAsFloatingElement:!0,noEmit:!0}),[g,E]=i.useState(0),h=g===0,y=Es(p),v=ds(p,{outsidePressEvent(){return t.context.internalBackdropRef.current||t.context.backdropRef.current?"intentional":{mouse:a==="trap-focus"?"sloppy":"intentional",touch:"sloppy"}},outsidePress(N){if("button"in N&&N.button!==0||"touches"in N&&N.touches.length!==1)return!1;const H=Fe(N);if(h&&!s){const L=H;return a&&(t.context.internalBackdropRef.current||t.context.backdropRef.current)?t.context.internalBackdropRef.current===L||t.context.backdropRef.current===L||pe(L,c)&&!(L!=null&&L.hasAttribute("data-base-ui-portal")):!0}return!1},escapeKey:h});Io(o&&a===!0,c);const{getReferenceProps:w,getFloatingProps:x,getTriggerProps:M}=hr([y,v]);t.useContextCallback("onNestedDialogOpen",N=>{E(N+1)}),t.useContextCallback("onNestedDialogClose",()=>{E(0)}),i.useEffect(()=>(n!=null&&n.onNestedDialogOpen&&o&&n.onNestedDialogOpen(g),n!=null&&n.onNestedDialogClose&&!o&&n.onNestedDialogClose(),()=>{n!=null&&n.onNestedDialogClose&&o&&n.onNestedDialogClose()}),[o,n,g]);const I=i.useMemo(()=>w(l),[w,l]),k=i.useMemo(()=>M(l),[M,l]),D=i.useMemo(()=>x(),[x]);t.useSyncedValues({openMethod:u,activeTriggerProps:I,inactiveTriggerProps:k,popupProps:D,floatingRootContext:p,nestedOpenDialogCount:g})}const Rs=i.createContext(void 0);function Et(e){return i.useContext(Rs)}const bl={...ys,modal:oe(e=>e.modal),nested:oe(e=>e.nested),nestedOpenDialogCount:oe(e=>e.nestedOpenDialogCount),disablePointerDismissal:oe(e=>e.disablePointerDismissal),openMethod:oe(e=>e.openMethod),descriptionElementId:oe(e=>e.descriptionElementId),titleElementId:oe(e=>e.titleElementId),viewportElement:oe(e=>e.viewportElement),role:oe(e=>e.role)};class yl extends mr{constructor(n){super(xl(n),{popupRef:i.createRef(),backdropRef:i.createRef(),internalBackdropRef:i.createRef(),triggerElements:new Tn,onOpenChange:void 0,onOpenChangeComplete:void 0},bl);Oe(this,"setOpen",(n,r)=>{var c,u,l,d;if(r.preventUnmountOnClose=()=>{this.set("preventUnmountingOnClose",!0)},!n&&r.trigger==null&&this.state.activeTriggerId!=null&&(r.trigger=this.state.activeTriggerElement??void 0),(u=(c=this.context).onOpenChange)==null||u.call(c,n,r),r.isCanceled)return;const o={open:n,nativeEvent:r.event,reason:r.reason,nested:this.state.nested};(l=this.state.floatingRootContext.context.events)==null||l.emit("openchange",o);const s={open:n},a=((d=r.trigger)==null?void 0:d.id)??null;(a||n)&&(s.activeTriggerId=a,s.activeTriggerElement=r.trigger??null),this.update(s)})}}function xl(e={}){return{...bs(),modal:!0,disablePointerDismissal:!1,popupElement:null,viewportElement:null,descriptionElementId:void 0,titleElementId:void 0,openMethod:null,nested:!1,nestedOpenDialogCount:0,role:"dialog",...e}}function qr(e){const{children:t,open:n,defaultOpen:r=!1,onOpenChange:o,onOpenChangeComplete:s,actionsRef:a,handle:c,triggerId:u,defaultTriggerId:l=null}=e,d=Et(),f=!!d,b=et(()=>(c==null?void 0:c.store)??new yl({open:n??r,activeTriggerId:u!==void 0?u:l,modal:!0,disablePointerDismissal:!0,nested:f,role:"alertdialog"})).current;b.useControlledProp("open",n,r),b.useControlledProp("activeTriggerId",u,l),b.useSyncedValue("nested",f),b.useContextCallback("onOpenChange",o),b.useContextCallback("onOpenChangeComplete",s);const m=b.useState("payload");hl({store:b,actionsRef:a,parentContext:d==null?void 0:d.store.context});const p=i.useMemo(()=>({store:b}),[b]);return T.jsx(Rs.Provider,{value:p,children:typeof t=="function"?t({payload:m}):t})}let pt=function(e){return e.open="data-open",e.closed="data-closed",e[e.startingStyle=Rr.startingStyle]="startingStyle",e[e.endingStyle=Rr.endingStyle]="endingStyle",e.anchorHidden="data-anchor-hidden",e}({}),Jr=function(e){return e.popupOpen="data-popup-open",e.pressed="data-pressed",e}({});const vl={[Jr.popupOpen]:"",[Jr.pressed]:""},El={[pt.open]:""},wl={[pt.closed]:""},Rl={[pt.anchorHidden]:""},Qr={open(e){return e?vl:null}},Mn={open(e){return e?El:wl},anchorHidden(e){return e?Rl:null}},Sl={...Mn,...or},eo=i.forwardRef(function(t,n){const{render:r,className:o,forceRender:s=!1,...a}=t,{store:c}=Et(),u=c.useState("open"),l=c.useState("nested"),d=c.useState("mounted"),f=c.useState("transitionStatus"),b=i.useMemo(()=>({open:u,transitionStatus:f}),[u,f]);return _e("div",t,{state:b,ref:[c.context.backdropRef,n],stateAttributesMapping:Sl,props:[{role:"presentation",hidden:!d,style:{userSelect:"none",WebkitUserSelect:"none"}},a],enabled:s||!l})}),to=i.forwardRef(function(t,n){const{render:r,className:o,disabled:s=!1,nativeButton:a=!0,...c}=t,{store:u}=Et(),l=u.useState("open");function d(p){l&&u.setOpen(!1,ge(fi,p.nativeEvent))}const{getButtonProps:f,buttonRef:b}=Rn({disabled:s,native:a}),m=i.useMemo(()=>({disabled:s}),[s]);return _e("button",t,{state:m,ref:[n,b],props:[{onClick:d},c,f]})}),no=i.forwardRef(function(t,n){const{render:r,className:o,id:s,...a}=t,{store:c}=Et(),u=Sn(s);return c.useSyncedValueWithCleanup("descriptionElementId",u),_e("p",t,{ref:n,props:[{id:u},a]})});let Cl=function(e){return e.nestedDialogs="--nested-dialogs",e}({}),Tl=function(e){return e[e.open=pt.open]="open",e[e.closed=pt.closed]="closed",e[e.startingStyle=pt.startingStyle]="startingStyle",e[e.endingStyle=pt.endingStyle]="endingStyle",e.nested="data-nested",e.nestedDialogOpen="data-nested-dialog-open",e}({});const Ss=i.createContext(void 0);function Ol(){const e=i.useContext(Ss);if(e===void 0)throw new Error(vt(26));return e}const Cs="ArrowUp",Ts="ArrowDown",Os="ArrowLeft",Ms="ArrowRight",Ps="Home",Is="End",Ml=new Set([Os,Ms]),Pl=new Set([Cs,Ts]),Il=new Set([...Ml,...Pl]);[...Il];const ks=new Set([Cs,Ts,Os,Ms,Ps,Is]),kl={...Mn,...or,nestedDialogOpen(e){return e?{[Tl.nestedDialogOpen]:""}:null}},ro=i.forwardRef(function(t,n){const{className:r,finalFocus:o,initialFocus:s,render:a,...c}=t,{store:u}=Et(),l=u.useState("descriptionElementId"),d=u.useState("disablePointerDismissal"),f=u.useState("floatingRootContext"),b=u.useState("popupProps"),m=u.useState("modal"),p=u.useState("mounted"),g=u.useState("nested"),E=u.useState("nestedOpenDialogCount"),h=u.useState("open"),y=u.useState("openMethod"),v=u.useState("titleElementId"),w=u.useState("transitionStatus"),x=u.useState("role");Ol(),rr({open:h,ref:u.context.popupRef,onComplete(){var H,L;h&&((L=(H=u.context).onOpenChangeComplete)==null||L.call(H,!0))}});function M(H){return H==="touch"?u.context.popupRef.current:!0}const I=s===void 0?M:s,k=E>0,D=i.useMemo(()=>({open:h,nested:g,transitionStatus:w,nestedDialogOpen:k}),[h,g,w,k]),N=_e("div",t,{state:D,props:[b,{"aria-labelledby":v??void 0,"aria-describedby":l??void 0,role:x,tabIndex:-1,hidden:!p,onKeyDown(H){ks.has(H.key)&&H.stopPropagation()},style:{[Cl.nestedDialogs]:E}},c],ref:[n,u.context.popupRef,u.useStateSetter("popupElement")],stateAttributesMapping:kl});return T.jsx(rs,{context:f,openInteractionType:y,disabled:!p,closeOnFocusOut:!d,initialFocus:I,returnFocus:o,modal:m!==!1,restoreFocus:"popup",children:N})});function As(e){return ho(19)?e:e?"true":void 0}const Ls=i.forwardRef(function(t,n){const{cutout:r,...o}=t;let s;if(r){const a=r==null?void 0:r.getBoundingClientRect();s=`polygon(
      0% 0%,
      100% 0%,
      100% 100%,
      0% 100%,
      0% 0%,
      ${a.left}px ${a.top}px,
      ${a.left}px ${a.bottom}px,
      ${a.right}px ${a.bottom}px,
      ${a.right}px ${a.top}px,
      ${a.left}px ${a.top}px
    )`}return T.jsx("div",{ref:n,role:"presentation","data-base-ui-inert":"",...o,style:{position:"fixed",inset:0,userSelect:"none",WebkitUserSelect:"none",clipPath:s}})}),oo=i.forwardRef(function(t,n){const{keepMounted:r=!1,...o}=t,{store:s}=Et(),a=s.useState("mounted"),c=s.useState("modal"),u=s.useState("open");return a||r?T.jsx(Ss.Provider,{value:r,children:T.jsxs(ns,{ref:n,...o,children:[a&&c===!0&&T.jsx(Ls,{ref:s.context.internalBackdropRef,inert:As(!u)}),t.children]})}):null}),so=i.forwardRef(function(t,n){const{render:r,className:o,id:s,...a}=t,{store:c}=Et(),u=Sn(s);return c.useSyncedValueWithCleanup("titleElementId",u),_e("h2",t,{ref:n,props:[{id:u},a]})}),Xe=i.forwardRef(function(t,n){const{render:r,className:o,disabled:s=!1,focusableWhenDisabled:a=!1,nativeButton:c=!0,...u}=t,{getButtonProps:l,buttonRef:d}=Rn({disabled:s,focusableWhenDisabled:a,native:c}),f=i.useMemo(()=>({disabled:s}),[s]);return _e("button",t,{state:f,ref:[n,d],props:[u,l]})}),io=512;function Pt(e){if(!e.trim())return"Key is required";const t=new TextEncoder().encode(e).length;return t>io?`Key must be ${io} bytes or less (currently ${t} bytes)`:null}function Al({onAdd:e,clearSignal:t=0}){const[n,r]=i.useState(""),[o,s]=i.useState(""),[a,c]=i.useState(!1),[u,l]=i.useState(null);i.useEffect(()=>{t>0&&(r(""),s(""),l(null))},[t]);const d=m=>{const p=m.target.value;r(p),l(p.trim()?Pt(p):null)},f=async m=>{m.preventDefault();const p=Pt(n);if(p){l(p);return}try{c(!0),await e(n,o)&&(r(""),s(""),l(null))}finally{c(!1)}},b=!!Pt(n);return T.jsxs("form",{className:"flex flex-col lg:flex-row gap-2 mb-4 items-start",onSubmit:f,children:[T.jsxs("div",{className:"flex flex-col w-full lg:w-2xs shrink-0",children:[T.jsx("label",{className:"sr-only",htmlFor:"add-key",children:"Key"}),T.jsx("input",{id:"add-key",className:dt("w-full font-mono bg-bg text-text placeholder:text-text! py-2 px-3 text-sm border border-border rounded-md focus:outline-none focus:border-primary focus:shadow-focus-primary disabled:bg-bg-secondary disabled:text-text-secondary",{"border-danger focus:shadow-focus-danger":u}),placeholder:"Key",value:n,onChange:d,disabled:a}),u&&T.jsx("span",{className:"text-danger text-xs mt-1",children:u})]}),T.jsxs("div",{className:"flex flex-col flex-1 w-full lg:min-w-2xs",children:[T.jsx("label",{className:"sr-only",htmlFor:"add-value",children:"Value"}),T.jsx("textarea",{id:"add-value",className:"w-full font-mono bg-bg text-text placeholder:text-text! py-2 px-3 text-sm border border-border rounded-md focus:outline-none focus:border-primary focus:shadow-focus-primary disabled:bg-bg-secondary disabled:text-text-secondary max-h-2xs resize-none overflow-y-auto lg:[field-sizing:content]",placeholder:"Value",value:o,onChange:m=>s(m.target.value),disabled:a})]}),T.jsx(Xe,{type:"submit",className:"shrink-0 w-full lg:w-auto inline-flex items-center justify-center py-2 px-4 text-sm font-medium border-none rounded-md cursor-pointer transition-[background-color,color,transform] active:translate-y-px bg-primary text-white hover:bg-primary-hover focus:outline-none focus:border-primary focus:shadow-focus-primary data-[disabled]:bg-primary/50 data-[disabled]:text-white/70 data-[disabled]:cursor-not-allowed data-[disabled]:active:translate-y-0",disabled:a||b,focusableWhenDisabled:!0,children:a?"Adding...":"Add entry"})]})}const Ns=i.createContext(void 0);function Fs(e){const t=i.useContext(Ns);if(t===void 0&&!e)throw new Error(vt(33));return t}const Ds=i.createContext(void 0);function wt(e){const t=i.useContext(Ds);if(t===void 0&&!e)throw new Error(vt(36));return t}const Ll=i.createContext(void 0);function Pn(e=!0){const t=i.useContext(Ll);if(t===void 0&&!e)throw new Error(vt(25));return t}const Nl={type:"regular-item"};function Fl(e){const{closeOnClick:t,disabled:n=!1,highlighted:r,id:o,store:s,nativeButton:a,itemMetadata:c,nodeId:u}=e,l=i.useRef(null),d=Pn(!0),f=d!==void 0,{events:b}=s.useState("floatingTreeRoot"),{getButtonProps:m,buttonRef:p}=Rn({disabled:n,focusableWhenDisabled:!0,native:a}),g=i.useCallback(h=>$n({id:o,role:"menuitem",tabIndex:r?0:-1,onMouseMove(y){u&&b.emit("itemhover",{nodeId:u,target:y.currentTarget})},onMouseEnter(){c.type==="submenu-trigger"&&c.setActive()},onKeyUp(y){y.key===" "&&s.context.typingRef.current&&y.preventBaseUIHandler()},onClick(y){t&&b.emit("close",{domEvent:y,reason:yo})},onMouseUp(y){if(d){const v=d.initialCursorPointRef.current;if(d.initialCursorPointRef.current=null,f&&v&&Math.abs(y.clientX-v.x)<=1&&Math.abs(y.clientY-v.y)<=1)return}l.current&&s.context.allowMouseUpTriggerRef.current&&(!f||y.button===2)&&c.type==="regular-item"&&l.current.click()}},h,m),[o,r,m,t,b,s,f,d,c,u]),E=un(l,p);return i.useMemo(()=>({getItemProps:g,itemRef:E}),[g,E])}const Vs=i.createContext({register:()=>{},unregister:()=>{},subscribeMapChange:()=>()=>{},elementsRef:{current:[]},nextIndexRef:{current:0}});function Dl(){return i.useContext(Vs)}let Vl=function(e){return e[e.None=0]="None",e[e.GuessFromOrder=1]="GuessFromOrder",e}({});function Hs(e={}){const{label:t,metadata:n,textRef:r,indexGuessBehavior:o,index:s}=e,{register:a,unregister:c,subscribeMapChange:u,elementsRef:l,labelsRef:d,nextIndexRef:f}=Dl(),b=i.useRef(-1),[m,p]=i.useState(s??(o===Vl.GuessFromOrder?()=>{if(b.current===-1){const h=f.current;f.current+=1,b.current=h}return b.current}:-1)),g=i.useRef(null),E=i.useCallback(h=>{var y;if(g.current=h,m!==-1&&h!==null&&(l.current[m]=h,d)){const v=t!==void 0;d.current[m]=v?t:((y=r==null?void 0:r.current)==null?void 0:y.textContent)??h.textContent}},[m,l,d,t,r]);return ae(()=>{if(s!=null)return;const h=g.current;if(h)return a(h,n),()=>{c(h)}},[s,a,c,n]),ae(()=>{if(s==null)return u(h=>{var v;const y=g.current?(v=h.get(g.current))==null?void 0:v.index:null;y!=null&&p(y)})},[s,u,p]),i.useMemo(()=>({ref:E,index:m}),[m,E])}const ao=i.forwardRef(function(t,n){const{render:r,className:o,id:s,label:a,nativeButton:c=!1,disabled:u=!1,closeOnClick:l=!0,...d}=t,f=Hs({label:a}),b=Fs(!0),m=Sn(s),{store:p}=wt(),g=p.useState("isActive",f.index),E=p.useState("itemProps"),{getItemProps:h,itemRef:y}=Fl({closeOnClick:l,disabled:u,highlighted:g,id:m,store:p,nativeButton:c,nodeId:b==null?void 0:b.nodeId,itemMetadata:Nl}),v=i.useMemo(()=>({disabled:u,highlighted:g}),[u,g]);return _e("div",t,{state:v,props:[E,d,h],ref:[y,n,f.ref]})}),Hl=i.createContext(void 0);function jl(e){return i.useContext(Hl)}function Bl(e){return e==="starting"?Ei:ze}const _l={...Mn,...or},Zl=i.forwardRef(function(t,n){const{render:r,className:o,finalFocus:s,...a}=t,{store:c}=wt(),{side:u,align:l}=Fs(),d=jl()!=null,f=c.useState("open"),b=c.useState("transitionStatus"),m=c.useState("popupProps"),p=c.useState("mounted"),g=c.useState("instantType"),E=c.useState("activeTriggerElement"),h=c.useState("parent"),y=c.useState("lastOpenChangeReason"),v=c.useState("rootId"),w=c.useState("floatingRootContext"),x=c.useState("floatingTreeRoot"),M=c.useState("closeDelay"),I=c.useState("activeTriggerElement"),k=h.type==="context-menu";rr({open:f,ref:c.context.popupRef,onComplete(){var j,S;f&&((S=(j=c.context).onOpenChangeComplete)==null||S.call(j,!0))}}),i.useEffect(()=>{function j(S){c.setOpen(!1,ge(S.reason,S.domEvent))}return x.events.on("close",j),()=>{x.events.off("close",j)}},[x.events,c]);const D=c.useState("hoverEnabled"),N=c.useState("disabled");rl(w,{enabled:D&&!N&&!k&&h.type!=="menubar",closeDelay:M});const H=i.useMemo(()=>({transitionStatus:b,side:u,align:l,open:f,nested:h.type==="menu",instant:g}),[b,u,l,f,h.type,g]),L=_e("div",t,{state:H,ref:[n,c.context.popupRef],stateAttributesMapping:_l,props:[m,{onKeyDown(j){d&&ks.has(j.key)&&j.stopPropagation()}},Bl(b),a,{"data-rootownerid":v}]});let O=h.type===void 0||k;return(E||h.type==="menubar"&&y!==Qn)&&(O=!0),T.jsx(rs,{context:w,modal:k,disabled:!p,returnFocus:s===void 0?O:s,initialFocus:h.type!=="menu",restoreFocus:!0,externalTree:h.type!=="menubar"?x:void 0,previousFocusableElement:I,nextFocusableElement:h.type===void 0?c.context.triggerFocusTargetRef:void 0,beforeContentFocusGuardRef:h.type===void 0?c.context.beforeContentFocusGuardRef:void 0,children:L})}),js=i.createContext(void 0);function $l(){const e=i.useContext(js);if(e===void 0)throw new Error(vt(32));return e}const Wl=i.forwardRef(function(t,n){const{keepMounted:r=!1,...o}=t,{store:s}=wt();return s.useState("mounted")||r?T.jsx(js.Provider,{value:r,children:T.jsx(ns,{ref:n,...o})}):null}),Kl=i.createContext(void 0);function Bs(){const e=i.useContext(Kl);return(e==null?void 0:e.direction)??"ltr"}const Ul=e=>({name:"arrow",options:e,async fn(t){var P,A;const{x:n,y:r,placement:o,rects:s,platform:a,elements:c,middlewareData:u}=t,{element:l,padding:d=0,offsetParent:f="real"}=nt(e,t)||{};if(l==null)return{};const b=Vo(d),m={x:n,y:r},p=lr(o),g=cr(p),E=await a.getDimensions(l),h=p==="y",y=h?"top":"left",v=h?"bottom":"right",w=h?"clientHeight":"clientWidth",x=s.reference[g]+s.reference[p]-m[p]-s.floating[g],M=m[p]-s.reference[p],I=f==="real"?await((P=a.getOffsetParent)==null?void 0:P.call(a,l)):c.floating;let k=c.floating[w]||s.floating[g];(!k||!await((A=a.isElement)==null?void 0:A.call(a,I)))&&(k=c.floating[w]||s.floating[g]);const D=x/2-M/2,N=k/2-E[g]/2-1,H=Math.min(b[y],N),L=Math.min(b[v],N),O=H,j=k-E[g]-L,S=k/2-E[g]/2+D,B=zn(O,S,j),ee=!u.arrow&&ut(o)!=null&&S!==B&&s.reference[g]/2-(S<O?H:L)-E[g]/2<0,C=ee?S<O?S-O:S-j:0;return{[p]:m[p]+C,data:{[p]:B,centerOffset:S-B-C,...ee&&{alignmentOffset:C}},reset:ee}}}),zl=(e,t)=>({...Ul(e),options:[e,t]}),Yl={name:"hide",async fn(e){var c;const{width:t,height:n,x:r,y:o}=e.rects.reference,s=t===0&&n===0&&r===0&&o===0;return{data:{referenceHidden:((c=(await Sc().fn(e)).data)==null?void 0:c.referenceHidden)||s}}}},Gl={sideX:"left",sideY:"top"};function _s(e,t,n){const r=e==="inline-start"||e==="inline-end";return{top:"top",right:r?n?"inline-start":"inline-end":"right",bottom:"bottom",left:r?n?"inline-end":"inline-start":"left"}[t]}function co(e,t,n){const{rects:r,placement:o}=e;return{side:_s(t,je(o),n),align:ut(o)||"center",anchor:{width:r.reference.width,height:r.reference.height},positioner:{width:r.floating.width,height:r.floating.height}}}function Xl(e){var qt,Ke;const{anchor:t,positionMethod:n="absolute",side:r="bottom",sideOffset:o=0,align:s="center",alignOffset:a=0,collisionBoundary:c,collisionPadding:u=5,sticky:l=!1,arrowPadding:d=5,disableAnchorTracking:f=!1,keepMounted:b=!1,floatingRootContext:m,mounted:p,collisionAvoidance:g,shiftCrossAxis:E=!1,nodeId:h,adaptiveOrigin:y,lazyFlip:v=!1,externalTree:w}=e,[x,M]=i.useState(null);!p&&x!==null&&M(null);const I=g.side||"flip",k=g.align||"flip",D=g.fallbackAxisSide||"end",N=typeof t=="function"?t:void 0,H=te(N),L=N?H:t,O=Ne(t),S=Bs()==="rtl",B=x||{top:"top",right:"right",bottom:"bottom",left:"left","inline-end":S?"left":"right","inline-start":S?"right":"left"}[r],ee=s==="center"?B:`${B}-${s}`;let C=u;const P=1,A=r==="bottom"?P:0,G=r==="top"?P:0,K=r==="right"?P:0,_=r==="left"?P:0;typeof C=="number"?C={top:C+A,right:C+_,bottom:C+G,left:C+K}:C&&(C={top:(C.top||0)+A,right:(C.right||0)+_,bottom:(C.bottom||0)+G,left:(C.left||0)+K});const ie={boundary:c==="clipping-ancestors"?"clippingAncestors":c,padding:C},ne=i.useRef(null),q=Ne(o),X=Ne(a),de=[xc(we=>{const Me=co(we,r,S),Ve=typeof q.current=="function"?q.current(Me):q.current,Te=typeof X.current=="function"?X.current(Me):X.current;return{mainAxis:Ve,crossAxis:Te,alignmentAxis:Te}},[typeof o!="function"?o:0,typeof a!="function"?a:0,S,r])],le=k==="none"&&I!=="shift",R=!le&&(l||E||I==="shift"),z=I==="none"?null:wc({...ie,padding:{top:C.top+P,right:C.right+P,bottom:C.bottom+P,left:C.left+P},mainAxis:!E&&I==="flip",crossAxis:k==="flip"?"alignment":!1,fallbackAxisSideDirection:D}),U=le?null:vc(we=>{const Me=tt(we.elements.floating).documentElement;return{...ie,rootBoundary:E?{x:0,y:0,width:Me.clientWidth,height:Me.clientHeight}:void 0,mainAxis:k!=="none",crossAxis:R,limiter:l||E?void 0:Ec(Ve=>{if(!ne.current)return{};const{width:Te,height:Je}=ne.current.getBoundingClientRect(),Qe=Ze(je(Ve.placement)),Jt=Qe==="y"?Te:Je,In=Qe==="y"?C.left+C.right:C.top+C.bottom;return{offset:Jt/2+In/2}})}},[ie,l,E,C,k]);I==="shift"||k==="shift"||s==="center"?de.push(U,z):de.push(z,U),de.push(Rc({...ie,apply({elements:{floating:we},rects:{reference:Me},availableWidth:Ve,availableHeight:Te}){Object.entries({"--available-width":`${Ve}px`,"--available-height":`${Te}px`,"--anchor-width":`${Me.width}px`,"--anchor-height":`${Me.height}px`}).forEach(([Je,Qe])=>{we.style.setProperty(Je,Qe)})}}),zl(()=>({element:ne.current||document.createElement("div"),padding:d,offsetParent:"floating"}),[d]),{name:"transformOrigin",fn(we){var xr,vr,Er;const{elements:Me,middlewareData:Ve,placement:Te,rects:Je,y:Qe}=we,Jt=je(Te),In=Ze(Jt),Rt=ne.current,Ws=((xr=Ve.arrow)==null?void 0:xr.x)||0,Ks=((vr=Ve.arrow)==null?void 0:vr.y)||0,Us=(Rt==null?void 0:Rt.clientWidth)||0,zs=(Rt==null?void 0:Rt.clientHeight)||0,kn=Ws+Us/2,yr=Ks+zs/2,Ys=Math.abs(((Er=Ve.shift)==null?void 0:Er.y)||0),Gs=Je.reference.height/2,jt=typeof o=="function"?o(co(we,r,S)):o,Xs=Ys>jt,qs={top:`${kn}px calc(100% + ${jt}px)`,bottom:`${kn}px ${-jt}px`,left:`calc(100% + ${jt}px) ${yr}px`,right:`${-jt}px ${yr}px`}[Jt],Js=`${kn}px ${Je.reference.y+Gs-Qe}px`;return Me.floating.style.setProperty("--transform-origin",R&&In==="y"&&Xs?Js:qs),{}}},Yl,y),ae(()=>{!p&&m&&m.update({referenceElement:null,floatingElement:null,domReferenceElement:null})},[p,m]);const he=i.useMemo(()=>({elementResize:!f&&typeof ResizeObserver<"u",layoutShift:!f&&typeof IntersectionObserver<"u"}),[f]),{refs:F,elements:Z,x:$,y:J,middlewareData:re,update:Q,placement:se,context:V,isPositioned:Y,floatingStyles:W}=Jc({rootContext:m,placement:ee,middleware:de,strategy:n,whileElementsMounted:b?void 0:(...we)=>Kr(...we,he),nodeId:h,externalTree:w}),{sideX:me,sideY:be}=re.adaptiveOrigin||Gl,Ee=Y?n:"fixed",ye=i.useMemo(()=>y?{position:Ee,[me]:$,[be]:J}:{position:Ee,...W},[y,Ee,me,$,be,J,W]),Re=i.useRef(null);ae(()=>{if(!p)return;const we=O.current,Me=typeof we=="function"?we():we,Te=(lo(Me)?Me.current:Me)||null||null;Te!==Re.current&&(F.setPositionReference(Te),Re.current=Te)},[p,F,L,O]),i.useEffect(()=>{if(!p)return;const we=O.current;typeof we!="function"&&lo(we)&&we.current!==Re.current&&(F.setPositionReference(we.current),Re.current=we.current)},[p,F,L,O]),i.useEffect(()=>{if(b&&p&&Z.domReference&&Z.floating)return Kr(Z.domReference,Z.floating,Q,he)},[b,p,Z,Q,he]);const Se=je(se),Ie=_s(r,Se,S),We=ut(se)||"center",ce=!!((qt=re.hide)!=null&&qt.referenceHidden);ae(()=>{v&&p&&Y&&M(Se)},[v,p,Y,Se]);const ve=i.useMemo(()=>{var we,Me;return{position:"absolute",top:(we=re.arrow)==null?void 0:we.y,left:(Me=re.arrow)==null?void 0:Me.x}},[re.arrow]),ke=((Ke=re.arrow)==null?void 0:Ke.centerOffset)!==0;return i.useMemo(()=>({positionerStyles:ye,arrowStyles:ve,arrowRef:ne,arrowUncentered:ke,side:Ie,align:We,physicalSide:Se,anchorHidden:ce,refs:F,context:V,isPositioned:Y,update:Q}),[ye,ve,ne,ke,Ie,We,Se,ce,F,V,Y,Q])}function lo(e){return e!=null&&"current"in e}function ql(e){const{children:t,elementsRef:n,labelsRef:r,onMapChange:o}=e,s=te(o),a=i.useRef(0),c=et(Ql).current,u=et(Jl).current,[l,d]=i.useState(0),f=i.useRef(l),b=te((h,y)=>{u.set(h,y??null),f.current+=1,d(f.current)}),m=te(h=>{u.delete(h),f.current+=1,d(f.current)}),p=i.useMemo(()=>{const h=new Map;return Array.from(u.keys()).filter(v=>v.isConnected).sort(eu).forEach((v,w)=>{const x=u.get(v)??{};h.set(v,{...x,index:w})}),h},[u,l]);ae(()=>{if(typeof MutationObserver!="function"||p.size===0)return;const h=new MutationObserver(y=>{const v=new Set,w=x=>v.has(x)?v.delete(x):v.add(x);y.forEach(x=>{x.removedNodes.forEach(w),x.addedNodes.forEach(w)}),v.size===0&&(f.current+=1,d(f.current))});return p.forEach((y,v)=>{v.parentElement&&h.observe(v.parentElement,{childList:!0})}),()=>{h.disconnect()}},[p]),ae(()=>{f.current===l&&(n.current.length!==p.size&&(n.current.length=p.size),r&&r.current.length!==p.size&&(r.current.length=p.size),a.current=p.size),s(p)},[s,p,n,r,l]),ae(()=>()=>{n.current=[]},[n]),ae(()=>()=>{r&&(r.current=[])},[r]);const g=te(h=>(c.add(h),()=>{c.delete(h)}));ae(()=>{c.forEach(h=>h(p))},[c,p]);const E=i.useMemo(()=>({register:b,unregister:m,subscribeMapChange:g,elementsRef:n,labelsRef:r,nextIndexRef:a}),[b,m,g,n,r,a]);return T.jsx(Vs.Provider,{value:E,children:t})}function Jl(){return new Map}function Ql(){return new Set}function eu(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}const tu=i.forwardRef(function(t,n){var de;const{anchor:r,positionMethod:o="absolute",className:s,render:a,side:c,align:u,sideOffset:l=0,alignOffset:d=0,collisionBoundary:f="clipping-ancestors",collisionPadding:b=5,arrowPadding:m=5,sticky:p=!1,disableAnchorTracking:g=!1,collisionAvoidance:E=Ri,...h}=t,{store:y}=wt(),v=$l(),w=Pn(!0),x=y.useState("parent"),M=y.useState("floatingRootContext"),I=y.useState("floatingTreeRoot"),k=y.useState("mounted"),D=y.useState("open"),N=y.useState("modal"),H=y.useState("activeTriggerElement"),L=y.useState("lastOpenChangeReason"),O=y.useState("floatingNodeId"),j=y.useState("floatingParentNodeId");let S=r,B=l,ee=d,C=u,P=E;x.type==="context-menu"&&(S=r??((de=x.context)==null?void 0:de.anchor),C=C??"start",!c&&C!=="center"&&(ee=t.alignOffset??2,B=t.sideOffset??-5));let A=c,G=C;x.type==="menu"?(A=A??"inline-end",G=G??"start",P=t.collisionAvoidance??Si):x.type==="menubar"&&(A=A??"bottom",G=G??"start");const K=x.type==="context-menu",_=Xl({anchor:S,floatingRootContext:M,positionMethod:w?"fixed":o,mounted:k,side:A,sideOffset:B,align:G,alignOffset:ee,arrowPadding:K?0:m,collisionBoundary:f,collisionPadding:b,sticky:p,nodeId:O,keepMounted:v,disableAnchorTracking:g,collisionAvoidance:P,shiftCrossAxis:K,externalTree:I}),ie=i.useMemo(()=>{const le={};return D||(le.pointerEvents="none"),{role:"presentation",hidden:!k,style:{..._.positionerStyles,...le}}},[D,k,_.positionerStyles]);i.useEffect(()=>{function le(R){R.open?(R.parentNodeId===O&&y.set("hoverEnabled",!1),R.nodeId!==O&&R.parentNodeId===y.select("floatingParentNodeId")&&y.setOpen(!1,ge(_t))):R.parentNodeId===O&&R.reason!==_t&&y.set("hoverEnabled",!0)}return I.events.on("menuopenchange",le),()=>{I.events.off("menuopenchange",le)}},[y,I.events,O]),i.useEffect(()=>{if(y.select("floatingParentNodeId")==null)return;function le(R){if(R.open||R.nodeId!==y.select("floatingParentNodeId"))return;const z=R.reason??_t;y.setOpen(!1,ge(z))}return I.events.on("menuopenchange",le),()=>{I.events.off("menuopenchange",le)}},[I.events,y]),i.useEffect(()=>{function le(R){!D||R.nodeId!==y.select("floatingParentNodeId")||R.target&&H&&H!==R.target&&y.setOpen(!1,ge(_t))}return I.events.on("itemhover",le),()=>{I.events.off("itemhover",le)}},[I.events,D,H,y]),i.useEffect(()=>{const le={open:D,nodeId:O,parentNodeId:j,reason:y.select("lastOpenChangeReason")};I.events.emit("menuopenchange",le)},[I.events,D,y,O,j]);const ne=i.useMemo(()=>({open:D,side:_.side,align:_.align,anchorHidden:_.anchorHidden,nested:x.type==="menu"}),[D,_.side,_.align,_.anchorHidden,x.type]),q=i.useMemo(()=>({side:_.side,align:_.align,arrowRef:_.arrowRef,arrowUncentered:_.arrowUncentered,arrowStyles:_.arrowStyles,nodeId:_.context.nodeId}),[_.side,_.align,_.arrowRef,_.arrowUncentered,_.arrowStyles,_.context.nodeId]),X=_e("div",t,{state:ne,stateAttributesMapping:Mn,ref:[n,y.useStateSetter("positionerElement")],props:[ie,h]}),ue=k&&x.type!=="menu"&&(x.type!=="menubar"&&N&&L!==De||x.type==="menubar"&&x.context.modal);let fe=null;return x.type==="menubar"?fe=x.context.contentElement:x.type===void 0&&(fe=H),T.jsxs(Ns.Provider,{value:q,children:[ue&&T.jsx(Ls,{ref:x.type==="context-menu"||x.type==="nested-context-menu"?x.context.internalBackdropRef:null,inert:As(!D),cutout:fe}),T.jsx(Ca,{id:O,children:T.jsx(ql,{elementsRef:y.context.itemDomElements,labelsRef:y.context.itemLabels,children:X})})]})}),nu=i.createContext(null);function Zs(e){return i.useContext(nu)}const ru={...ys,disabled:oe(e=>e.parent.type==="menubar"&&e.parent.context.disabled||e.disabled),modal:oe(e=>(e.parent.type===void 0||e.parent.type==="context-menu")&&(e.modal??!0)),allowMouseEnter:oe(e=>e.parent.type==="menu"?e.parent.store.select("allowMouseEnter"):e.allowMouseEnter),stickIfOpen:oe(e=>e.stickIfOpen),parent:oe(e=>e.parent),rootId:oe(e=>e.parent.type==="menu"?e.parent.store.select("rootId"):e.parent.type!==void 0?e.parent.context.rootId:e.rootId),activeIndex:oe(e=>e.activeIndex),isActive:oe((e,t)=>e.activeIndex===t),hoverEnabled:oe(e=>e.hoverEnabled),instantType:oe(e=>e.instantType),lastOpenChangeReason:oe(e=>e.openChangeReason),floatingTreeRoot:oe(e=>e.parent.type==="menu"?e.parent.store.select("floatingTreeRoot"):e.floatingTreeRoot),floatingNodeId:oe(e=>e.floatingNodeId),floatingParentNodeId:oe(e=>e.floatingParentNodeId),itemProps:oe(e=>e.itemProps),closeDelay:oe(e=>e.closeDelay),keyboardEventRelay:oe(e=>{if(e.keyboardEventRelay)return e.keyboardEventRelay;if(e.parent.type==="menu")return e.parent.store.select("keyboardEventRelay")})};class br extends mr{constructor(n){super({...ou(),...n},{positionerRef:i.createRef(),popupRef:i.createRef(),typingRef:{current:!1},itemDomElements:{current:[]},itemLabels:{current:[]},allowMouseUpTriggerRef:{current:!1},triggerFocusTargetRef:i.createRef(),beforeContentFocusGuardRef:i.createRef(),onOpenChangeComplete:void 0,triggerElements:new Tn},ru);Oe(this,"unsubscribeParentListener",null);this.observe(oe(r=>r.allowMouseEnter),(r,o)=>{this.state.parent.type==="menu"&&r!==o&&this.state.parent.store.set("allowMouseEnter",r)}),this.unsubscribeParentListener=this.observe("parent",r=>{var o;if((o=this.unsubscribeParentListener)==null||o.call(this),r.type==="menu"){this.unsubscribeParentListener=r.store.subscribe(()=>{this.notifyAll()}),this.context.allowMouseUpTriggerRef=r.store.context.allowMouseUpTriggerRef;return}r.type!==void 0&&(this.context.allowMouseUpTriggerRef=r.context.allowMouseUpTriggerRef),this.unsubscribeParentListener=null})}setOpen(n,r){this.state.floatingRootContext.context.events.emit("setOpen",{open:n,eventDetails:r})}static useStore(n,r){const o=et(()=>new br(r)).current;return n??o}}function ou(){return{...bs(),disabled:!1,modal:!0,allowMouseEnter:!0,stickIfOpen:!0,parent:{type:void 0},rootId:void 0,activeIndex:null,hoverEnabled:!0,instantType:void 0,openChangeReason:null,floatingTreeRoot:new fr,floatingNodeId:void 0,floatingParentNodeId:null,itemProps:ze,keyboardEventRelay:void 0,closeDelay:0}}const su=i.createContext(void 0);function iu(){return i.useContext(su)}function au(e){const{children:t,open:n,onOpenChange:r,onOpenChangeComplete:o,defaultOpen:s=!1,disabled:a=!1,modal:c,loopFocus:u=!0,orientation:l="vertical",actionsRef:d,closeParentOnEsc:f=!1,handle:b,triggerId:m,defaultTriggerId:p=null,highlightItemOnHover:g=!0}=e,E=Pn(!0),h=wt(!0),y=Zs(),v=iu(),w=i.useMemo(()=>v&&h?{type:"menu",store:h.store}:y?{type:"menubar",context:y}:E&&!h?{type:"context-menu",context:E}:{type:void 0},[E,h,y,v]),x=br.useStore(b==null?void 0:b.store,{parent:w}),M=x.useState("floatingTreeRoot"),I=qo(M),k=ot();ae(()=>{E&&!h?x.update({parent:{type:"context-menu",context:E},floatingNodeId:I,floatingParentNodeId:k}):h&&x.update({floatingNodeId:I,floatingParentNodeId:k})},[E,h,I,k,x]),x.useControlledProp("open",n,s),x.useControlledProp("activeTriggerId",m,p),x.useContextCallback("onOpenChangeComplete",o);const D=x.useState("open"),N=x.useState("activeTriggerElement"),H=x.useState("positionerElement"),L=x.useState("hoverEnabled"),O=x.useState("modal"),j=x.useState("disabled"),S=x.useState("lastOpenChangeReason"),B=x.useState("parent"),ee=x.useState("activeIndex"),C=x.useState("payload"),P=x.useState("floatingParentNodeId"),A=i.useRef(null),G=P!=null;let K;x.useSyncedValues({disabled:a,modal:B.type===void 0?c:void 0,rootId:Dt()});const{openMethod:_,triggerProps:ie,reset:ne}=ws(D);gs(x);const{forceUnmount:q}=hs(D,x,()=>{x.update({allowMouseEnter:!1,stickIfOpen:!0}),ne()}),X=i.useRef(B.type!=="context-menu"),ue=Be();i.useEffect(()=>{if(D||(A.current=null),B.type==="context-menu"){if(!D){ue.clear(),X.current=!1;return}ue.start(500,()=>{X.current=!0})}},[ue,D,B.type]),Io(D&&O&&S!==De&&_!=="touch",H),ae(()=>{!D&&!L&&x.set("hoverEnabled",!0)},[D,L,x]);const fe=i.useRef(!0),de=Be(),le=te((ce,ve)=>{const ke=ve.reason;if(D===ce&&ve.trigger===N&&S===ke||(ve.preventUnmountOnClose=()=>{x.set("preventUnmountingOnClose",!0)},!ce&&ve.trigger==null&&(ve.trigger=N??void 0),r==null||r(ce,ve),ve.isCanceled))return;const qt={open:ce,nativeEvent:ve.event,reason:ve.reason,nested:G};K==null||K.emit("openchange",qt);const Ke=ve.event;if(ce===!1&&(Ke==null?void 0:Ke.type)==="click"&&Ke.pointerType==="touch"&&!fe.current)return;if(!ce&&ee!==null){const Te=x.context.itemDomElements.current[ee];queueMicrotask(()=>{Te==null||Te.setAttribute("tabindex","-1")})}ce&&ke===Zt?(fe.current=!1,de.start(300,()=>{fe.current=!0})):(fe.current=!0,de.clear());const we=(ke===mt||ke===yo)&&Ke.detail===0&&(Ke==null?void 0:Ke.isTrusted),Me=!ce&&(ke===nr||ke==null);function Ve(){var Qe;const Te={open:ce,openChangeReason:ke};A.current=ve.event??null;const Je=((Qe=ve.trigger)==null?void 0:Qe.id)??null;(Je||ce)&&(Te.activeTriggerId=Je,Te.activeTriggerElement=ve.trigger??null),x.update(Te)}ke===De?ht.flushSync(Ve):Ve(),B.type==="menubar"&&(ke===Zt||ke===It||ke===De||ke===an||ke===_t)?x.set("instantType","group"):we||Me?x.set("instantType",we?"click":"dismiss"):x.set("instantType",void 0)}),R=i.useCallback(ce=>{const ve=ge(ce);return ve.preventUnmountOnClose=()=>{x.set("preventUnmountingOnClose",!0)},ve},[x]),z=i.useCallback(()=>{x.setOpen(!1,R(bo))},[x,R]);i.useImperativeHandle(d,()=>({unmount:q,close:z}),[q,z]);let U;B.type==="context-menu"&&(U=B.context),i.useImperativeHandle(U==null?void 0:U.positionerRef,()=>H,[H]),i.useImperativeHandle(U==null?void 0:U.actionsRef,()=>({setOpen:le}),[le]);const he=xs({popupStore:x,onOpenChange:le});K=he.context.events,i.useEffect(()=>{const ce=({open:ve,eventDetails:ke})=>le(ve,ke);return K.on("setOpen",ce),()=>{K==null||K.off("setOpen",ce)}},[K,le]);const F=ds(he,{enabled:!j,bubbles:{escapeKey:f&&B.type==="menu"},outsidePress(){var ce;return B.type!=="context-menu"||((ce=A.current)==null?void 0:ce.type)==="contextmenu"?!0:X.current},externalTree:G?M:void 0}),Z=Es(he,{role:"menu"}),$=Bs(),J=i.useCallback(ce=>{x.select("activeIndex")!==ce&&x.set("activeIndex",ce)},[x]),re=ul(he,{enabled:!j,listRef:x.context.itemDomElements,activeIndex:ee,nested:B.type!==void 0,loopFocus:u,orientation:l,parentOrientation:B.type==="menubar"?B.context.orientation:void 0,rtl:$==="rtl",disabledIndices:fn,onNavigate:J,openOnArrowKeyDown:B.type!=="context-menu",externalTree:G?M:void 0,focusItemOnHover:g}),Q=i.useCallback(ce=>{x.context.typingRef.current=ce},[x]),se=dl(he,{listRef:x.context.itemLabels,activeIndex:ee,resetMs:xi,onMatch:ce=>{D&&ce!==ee&&x.set("activeIndex",ce)},onTypingChange:Q}),{getReferenceProps:V,getFloatingProps:Y,getItemProps:W,getTriggerProps:me}=hr([F,Z,re,se]),be=i.useMemo(()=>{const ce=$n(V(),{onMouseEnter(){x.set("hoverEnabled",!0)},onMouseMove(){x.set("allowMouseEnter",!0)}},ie);return delete ce.role,ce},[V,x,ie]),Ee=i.useMemo(()=>{const ce=me();if(!ce)return ce;const ve=$n(ce,ie);return delete ve.role,delete ve["aria-controls"],ve},[me,ie]),ye=Jn(),Re=i.useMemo(()=>Y({onMouseEnter(){B.type==="menu"&&ye.request(()=>x.set("hoverEnabled",!1))},onMouseMove(){x.set("allowMouseEnter",!0)},onClick(){x.select("hoverEnabled")&&x.set("hoverEnabled",!1)},onKeyDown(ce){const ve=x.select("keyboardEventRelay");ve&&!ce.isPropagationStopped()&&ve(ce)}}),[Y,B.type,ye,x]),Se=i.useMemo(()=>W(),[W]);x.useSyncedValues({floatingRootContext:he,activeTriggerProps:be,inactiveTriggerProps:Ee,popupProps:Re,itemProps:Se});const Ie=i.useMemo(()=>({store:x,parent:w}),[x,w]),We=T.jsx(Ds.Provider,{value:Ie,children:typeof t=="function"?t({payload:C}):t});return B.type===void 0||B.type==="context-menu"?T.jsx(Ta,{externalTree:M,children:We}):We}function cu(e){const t=e.getBoundingClientRect(),n=window.getComputedStyle(e,"::before"),r=window.getComputedStyle(e,"::after");if(!(n.content!=="none"||r.content!=="none"))return t;const s=parseFloat(n.width)||0,a=parseFloat(n.height)||0,c=parseFloat(r.width)||0,u=parseFloat(r.height)||0,l=Math.max(t.width,s,c),d=Math.max(t.height,a,u),f=l-t.width,b=d-t.height;return{left:t.left-f/2,right:t.right+f/2,top:t.top-b/2,bottom:t.bottom+b/2}}function lu(e={}){const{highlightItemOnHover:t,highlightedIndex:n,onHighlightedIndexChange:r}=xo(),{ref:o,index:s}=Hs(e),a=n===s,c=i.useRef(null),u=un(o,c);return{compositeProps:i.useMemo(()=>({tabIndex:a?0:-1,onFocus(){r(s)},onMouseMove(){const d=c.current;if(!t||!d)return;const f=d.hasAttribute("disabled")||d.ariaDisabled==="true";!a&&!f&&d.focus()}}),[a,r,s,t]),compositeRef:u,index:s}}function uu(e){const{render:t,className:n,state:r=ze,props:o=fn,refs:s=fn,metadata:a,stateAttributesMapping:c,tag:u="div",...l}=e,{compositeProps:d,compositeRef:f}=lu({metadata:a});return _e(u,e,{state:r,ref:[...s,f],props:[d,...o,l],stateAttributesMapping:c})}function $s(e){if(Pe(e)&&e.hasAttribute("data-rootownerid"))return e.getAttribute("data-rootownerid")??void 0;if(!at(e))return $s(bt(e))}function fu(e){const{enabled:t=!0,mouseDownAction:n,open:r}=e,o=i.useRef(!1);return i.useMemo(()=>t?{onMouseDown:s=>{(n==="open"&&!r||n==="close"&&r)&&(o.current=!0,tt(s.currentTarget).addEventListener("click",()=>{o.current=!1},{once:!0}))},onClick:s=>{o.current&&(o.current=!1,s.preventBaseUIHandler())}}:ze,[t,n,r])}const sn=2,du=i.forwardRef(function(t,n){const{render:r,className:o,disabled:s=!1,nativeButton:a=!0,id:c,openOnHover:u,delay:l=100,closeDelay:d=0,handle:f,payload:b,...m}=t,p=wt(!0),g=(f==null?void 0:f.store)??(p==null?void 0:p.store);if(!g)throw new Error(vt(85));const E=Sn(c),h=g.useState("isTriggerActive",E),y=g.useState("floatingRootContext"),v=g.useState("isOpenedByTrigger",E),w=i.useRef(null),x=mu(),M=xo(!0),I=ft(),k=i.useMemo(()=>I??new fr,[I]),D=qo(k),N=ot(),{registerTrigger:H,isMountedByThisTrigger:L}=Gc(E,w,g,{payload:b,closeDelay:d,parent:x,floatingTreeRoot:k,floatingNodeId:D,floatingParentNodeId:N,keyboardEventRelay:M==null?void 0:M.relayKeyboardEvent}),O=x.type==="menubar",j=g.useState("disabled"),S=s||j||O&&x.context.disabled,{getButtonProps:B,buttonRef:ee}=Rn({disabled:S,native:a});i.useEffect(()=>{!v&&x.type===void 0&&(g.context.allowMouseUpTriggerRef.current=!1)},[g,v,x.type]);const C=i.useRef(null),P=Be(),A=te(Z=>{if(!C.current)return;P.clear(),g.context.allowMouseUpTriggerRef.current=!1;const $=Z.target;if(pe(C.current,$)||pe(g.select("positionerElement"),$)||$===C.current||$!=null&&$s($)===g.select("rootId"))return;const J=cu(C.current);Z.clientX>=J.left-sn&&Z.clientX<=J.right+sn&&Z.clientY>=J.top-sn&&Z.clientY<=J.bottom+sn||k.events.emit("close",{domEvent:Z,reason:di})});i.useEffect(()=>{v&&g.select("lastOpenChangeReason")===De&&tt(C.current).addEventListener("mouseup",A,{once:!0})},[v,A,g]);const G=O&&x.context.hasSubmenuOpen,_=il(y,{enabled:(u??G)&&!S&&x.type!=="context-menu"&&(!O||G&&!L),handleClose:ml({blockPointerEvents:!O}),mouseOnly:!0,move:!1,restMs:x.type===void 0?l:void 0,delay:{close:d},triggerElementRef:w,externalTree:k,isActiveTrigger:h}),ie=pu(v,g.select("lastOpenChangeReason")),ne=Va(y,{enabled:!S&&x.type!=="context-menu",event:v&&O?"click":"mousedown",toggle:!0,ignoreMouse:!1,stickIfOpen:x.type===void 0?ie:!1}),q=Qc(y,{enabled:!S&&G}),X=fu({open:v,enabled:O,mouseDownAction:"open"}),ue=hr([ne,q]),fe=i.useMemo(()=>({disabled:S,open:v}),[S,v]),de=g.useState("triggerProps",L),le=[C,n,ee,H,w],R=[ue.getReferenceProps(),_??ze,de,{"aria-haspopup":"menu",id:E,onMouseDown:Z=>{if(g.select("open"))return;P.start(200,()=>{g.context.allowMouseUpTriggerRef.current=!0}),tt(Z.currentTarget).addEventListener("mouseup",A,{once:!0})}},O?{role:"menuitem"}:{},X,m,B],z=i.useRef(null),U=te(Z=>{ht.flushSync(()=>{g.setOpen(!1,ge(It,Z.nativeEvent,Z.currentTarget))});const $=Ra(z.current);$==null||$.focus()}),he=te(Z=>{var J;const $=g.select("positionerElement");if($&&Tt(Z,$))(J=g.context.beforeContentFocusGuardRef.current)==null||J.focus();else{ht.flushSync(()=>{g.setOpen(!1,ge(It,Z.nativeEvent,Z.currentTarget))});let re=wa(g.context.triggerFocusTargetRef.current||w.current);for(;re!==null&&pe($,re);){const Q=re;if(re=ur(re),re===Q)break}re==null||re.focus()}}),F=_e("button",t,{enabled:!O,stateAttributesMapping:Qr,state:fe,ref:le,props:R});return O?T.jsx(uu,{tag:"button",render:r,className:o,state:fe,refs:le,props:R,stateAttributesMapping:Qr}):v?T.jsxs(i.Fragment,{children:[T.jsx(Ft,{ref:z,onFocus:U},`${E}-pre-focus-guard`),T.jsx(i.Fragment,{children:F},E),T.jsx(Ft,{ref:g.context.triggerFocusTargetRef,onFocus:he},`${E}-post-focus-guard`)]}):T.jsx(i.Fragment,{children:F},E)});function pu(e,t){const n=Be(),[r,o]=i.useState(!1);return ae(()=>{e&&t==="trigger-hover"?(o(!0),n.start(vi,()=>{o(!1)})):e||(n.clear(),o(!1))},[e,t,n]),r}function mu(){const e=Pn(!0),t=wt(!0),n=Zs();return i.useMemo(()=>n?{type:"menubar",context:n}:e&&!t?{type:"context-menu",context:e}:{type:void 0},[e,t,n])}const gu=i.forwardRef(function(t,n){const{className:r,render:o,orientation:s="horizontal",...a}=t,c=i.useMemo(()=>({orientation:s}),[s]);return _e("div",t,{state:c,ref:n,props:[{role:"separator","aria-orientation":s},a]})});function uo({text:e}){const[t,n]=i.useState(!1),r=async()=>{await navigator.clipboard.writeText(e),n(!0),setTimeout(()=>n(!1),1500)};return T.jsx(Xe,{className:dt("flex items-center justify-center w-6 h-6 p-0 border-none rounded bg-transparent text-text-secondary cursor-pointer opacity-0 transition-[opacity,background-color,color] shrink-0 hover:bg-border hover:text-text group-hover/cell:opacity-100",{"opacity-100 text-success":t}),onClick:r,"aria-label":t?"Copied":"Copy to clipboard",children:t?T.jsx(vo,{size:14,weight:"bold"}):T.jsx(Eo,{size:14})})}function hu(e,t=100){return e===""?"(empty)":e===null?JSON.stringify(e):e.length>t?e.slice(0,t)+"...":e}function bu({onEdit:e,onDelete:t}){return T.jsxs(au,{children:[T.jsx(du,{className:"flex items-center justify-center w-7 h-7 border-none rounded-md bg-transparent text-text-secondary cursor-pointer transition-[background-color,color] hover:bg-border hover:text-text","aria-label":"Actions",children:T.jsx(wo,{size:16,weight:"bold"})}),T.jsx(Wl,{children:T.jsx(tu,{sideOffset:4,align:"end",children:T.jsxs(Zl,{className:"min-w-24 bg-bg border border-border rounded-lg shadow-[0_4px_12px_rgba(0,0,0,0.15)] z-[100] overflow-hidden transition-[opacity,transform] duration-150 data-[starting-style]:opacity-0 data-[starting-style]:-translate-y-1 data-[ending-style]:opacity-0 data-[ending-style]:-translate-y-1",children:[T.jsxs(ao,{className:"inline-flex items-center gap-1 w-full py-2 px-3 border-none bg-transparent text-left text-sm text-text cursor-pointer transition-colors hover:bg-bg-secondary dark:hover:bg-bg-tertiary data-[highlighted]:bg-bg-secondary dark:data-[highlighted]:bg-bg-tertiary",onClick:e,children:[T.jsx(Ro,{}),T.jsx("span",{children:"Edit"})]}),T.jsx(gu,{className:"h-px bg-border"}),T.jsxs(ao,{className:"inline-flex items-center gap-1 w-full py-2 px-3 border-none bg-transparent text-left text-sm text-danger cursor-pointer transition-colors hover:bg-danger/8 data-[highlighted]:bg-danger/8",onClick:t,children:[T.jsx(So,{}),T.jsx("span",{children:"Delete"})]})]})})})]})}function yu({entries:e,onSave:t,onDelete:n}){const[r,o]=i.useState(null),[s,a]=i.useState(!1),c=m=>{o({originalKey:m.key.name,key:m.key.name,value:m.value??"",keyError:null})},u=m=>{r&&o({...r,key:m,keyError:m.trim()?Pt(m):null})},l=async()=>{if(!r)return;const m=Pt(r.key);if(m){o({...r,keyError:m});return}try{a(!0),await t(r.originalKey,r.key,r.value)&&o(null)}finally{a(!1)}},d=()=>{o(null)},f=m=>{m.key==="Escape"?d():m.key==="Enter"&&(m.metaKey||m.ctrlKey)&&l()},b=r?!!Pt(r.key):!1;return T.jsxs("table",{className:"w-full border-separate border-spacing-0 bg-bg border border-border rounded-lg",children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{className:"py-2.5 px-3 text-left bg-bg font-semibold text-xs uppercase tracking-wide text-text-secondary border-b border-border first:rounded-tl-[7px]",children:"Key"}),T.jsx("th",{className:"py-2.5 px-3 text-left bg-bg font-semibold text-xs uppercase tracking-wide text-text-secondary border-b border-border",children:"Value"}),T.jsx("th",{className:"py-2.5 px-3 text-left bg-bg font-semibold text-xs uppercase tracking-wide text-text-secondary border-b border-border w-12 last:rounded-tr-[7px]"})]})}),T.jsx("tbody",{children:e.map((m,p)=>{const g=(r==null?void 0:r.originalKey)===m.key.name,E=p===e.length-1;return T.jsxs("tr",{className:"group hover:bg-bg-tertiary",children:[T.jsx("td",{className:dt("py-2 px-3 text-left align-top group/cell",E?"border-b-0 first:rounded-bl-[7px]":"border-b border-border"),children:g&&r?T.jsxs("div",{className:"flex flex-col",children:[T.jsx("label",{className:"sr-only",htmlFor:`edit-key-${m.key.name}`,children:"Key"}),T.jsx("input",{id:`edit-key-${m.key.name}`,className:dt("w-full font-mono bg-bg text-text min-h-8 py-1.5 px-2 text-[13px] border border-primary rounded focus:outline-none focus:shadow-focus-primary disabled:bg-bg-secondary disabled:text-text-secondary",{"border-danger focus:shadow-focus-danger":r.keyError}),value:r.key,onChange:h=>u(h.target.value),onKeyDown:f,disabled:s,autoFocus:!0}),r.keyError&&T.jsx("span",{className:"text-danger text-xs mt-1",children:r.keyError})]}):T.jsxs("div",{className:"group/cell flex items-center gap-1.5",children:[T.jsx("code",{className:"text-primary font-medium",children:m.key.name}),T.jsx(uo,{text:m.key.name})]})}),T.jsx("td",{className:dt("py-2 px-3 text-left max-w-[400px] font-mono text-[13px] group/cell",E?"border-b-0":"border-b border-border"),children:g&&r?T.jsxs("div",{className:"flex flex-col gap-2",children:[T.jsx("label",{className:"sr-only",htmlFor:`edit-value-${m.key.name}`,children:"Value"}),T.jsx("textarea",{id:`edit-value-${m.key.name}`,className:"w-full font-mono bg-bg text-text min-h-8 py-1.5 px-2 text-[13px] border border-primary rounded focus:outline-none focus:shadow-focus-primary disabled:bg-bg-secondary disabled:text-text-secondary max-h-[200px] resize-none overflow-y-auto [field-sizing:content]",value:r.value,onChange:h=>o({...r,value:h.target.value}),onKeyDown:f,disabled:s}),T.jsxs("div",{className:"flex justify-end gap-1.5",children:[T.jsx(Xe,{className:"inline-flex items-center justify-center py-1 px-2.5 text-xs font-medium border-none rounded-md cursor-pointer transition-[background-color,transform] active:translate-y-px bg-bg-tertiary text-text border border-border hover:bg-border data-[disabled]:opacity-60 data-[disabled]:cursor-not-allowed data-[disabled]:active:translate-y-0",onClick:d,disabled:s,children:"Cancel"}),T.jsx(Xe,{className:"inline-flex items-center justify-center py-1 px-2.5 text-xs font-medium border-none rounded-md cursor-pointer transition-[background-color,transform] active:translate-y-px bg-primary text-white hover:bg-primary-hover data-[disabled]:text-white/70 data-[disabled]:cursor-not-allowed data-[disabled]:active:translate-y-0",onClick:l,disabled:s||b,focusableWhenDisabled:!0,children:s?"Saving...":"Save"})]})]}):T.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[T.jsx("span",{className:dt("overflow-hidden text-ellipsis whitespace-nowrap min-w-0",{"text-text-secondary":!m.value}),children:hu(m.value)}),m.value&&T.jsx(uo,{text:m.value})]})}),T.jsx("td",{className:dt("py-2 px-3 whitespace-nowrap text-right",E?"border-b-0 last:rounded-br-[7px]":"border-b border-border"),children:!g&&T.jsx(bu,{onEdit:()=>c(m),onDelete:()=>void n(m.key.name)})})]},m.key.name)})})]})}function xu({onSearch:e,disabled:t=!1}){const[n,r]=i.useState(""),o=s=>{s.preventDefault(),e(n)};return T.jsxs("form",{className:"flex gap-2 items-center",onSubmit:o,children:[T.jsx("label",{className:"sr-only",htmlFor:"search-prefix",children:"Search keys by prefix"}),T.jsx("input",{id:"search-prefix",className:"flex-1 max-w-[400px] font-mono bg-bg text-text py-2 px-3 text-sm border border-border rounded-md focus:outline-none focus:border-primary focus:shadow-[0_0_0_3px_rgba(255,72,1,0.15)] disabled:bg-bg-secondary disabled:text-text-secondary",placeholder:"Search keys by prefix...",value:n,onChange:s=>r(s.target.value),disabled:t}),T.jsx(Xe,{type:"submit",className:"btn shrink-0 inline-flex items-center justify-center py-2 px-4 text-sm font-medium rounded-md cursor-pointer transition-[background-color,transform] active:translate-y-px bg-bg-tertiary text-text border border-border hover:bg-border",disabled:t,focusableWhenDisabled:!0,children:"Search"})]})}const Zn=(e,t)=>e.filter(n=>n.key.name!==t),vu=(e,t,n)=>e.map(r=>r.key.name===t?{key:{name:t},value:n}:r),fo=(e,t)=>[t,...e],po=(e,t)=>e.some(n=>n.key.name===t);function Ru(){const{namespaceId:e}=pi.useParams(),[t,n]=i.useState([]),[r,o]=i.useState(!0),[s,a]=i.useState(null),[c,u]=i.useState(null),[l,d]=i.useState(!1),[f,b]=i.useState(!1),[m,p]=i.useState(null),[g,E]=i.useState(!1),[h,y]=i.useState(null),[v,w]=i.useState(!1),[x,M]=i.useState(0),[I,k]=i.useState(void 0),D=i.useCallback(async(P,A)=>{var G,K,_,ie,ne;try{P?b(!0):(o(!0),n([])),a(null);const q=await mi({path:{namespace_id:e},query:{cursor:P,limit:50,prefix:A}}),X=((G=q.data)==null?void 0:G.result)??[];let ue={};X.length>0&&(ue=((_=(K=(await gi({path:{namespace_id:e},body:{keys:X.map(R=>R.name)}})).data)==null?void 0:K.result)==null?void 0:_.values)??{});const fe=X.map(le=>({key:le,value:ue[le.name]??null}));n(P?le=>[...le,...fe]:fe);const de=(ne=(ie=q.data)==null?void 0:ie.result_info)==null?void 0:ne.cursor;u(de??null),d(!!de)}catch(q){a(q instanceof Error?q.message:"Failed to fetch entries")}finally{o(!1),b(!1)}},[e]);i.useEffect(()=>{p(null),y(null),a(null),k(void 0),D(void 0,void 0)},[e,D]);const N=()=>{c&&!f&&D(c,I)},H=P=>{const A=P||void 0;k(A),D(void 0,A)},L=async P=>{try{return(await yi({path:{namespace_id:e,key_name:P}})).response.ok}catch{return!1}},O=async(P,A)=>{try{return await L(P)?(y({key:P,value:A}),!1):(await j(P,A),!0)}catch(G){return a(G instanceof Error?G.message:"Failed to add entry"),!1}},j=async(P,A,G=!1)=>{await Cr({path:{namespace_id:e,key_name:P},body:A});const K={key:{name:P},value:A};n(_=>{const ie=po(_,P),ne=Zn(_,P);return ie||!G?fo(ne,K):ne})},S=async(P,A,G)=>{try{return P!==A&&await L(A)?(y({key:A,value:G,originalKey:P}),!1):(await B(P,A,G),!0)}catch(K){return a(K instanceof Error?K.message:"Failed to save entry"),!1}},B=async(P,A,G,K=!1)=>{await Cr({path:{namespace_id:e,key_name:A},body:G}),P!==A&&await Sr({path:{namespace_id:e,key_name:P},body:null});const _={key:{name:A},value:G};n(ie=>{const ne=P!==A?Zn(ie,P):ie;return po(ne,A)?vu(ne,A,G):K?ne:fo(ne,_)})},ee=async()=>{if(!h)return;const{key:P,value:A,originalKey:G}=h;try{w(!0),G?await B(G,P,A,!0):(await j(P,A,!0),M(K=>K+1)),y(null)}catch(K){a(K instanceof Error?K.message:"Failed to overwrite")}finally{w(!1)}},C=async()=>{if(m)try{E(!0),await Sr({path:{namespace_id:e,key_name:m},body:null}),n(P=>Zn(P,m)),p(null)}catch(P){a(P instanceof Error?P.message:"Failed to delete"),p(null)}finally{E(!1)}};return T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center gap-2 py-4 px-6 -mx-6 mb-6 min-h-[67px] box-border bg-bg-secondary border-b border-border text-sm font-medium text-text-secondary",children:[T.jsxs("span",{className:"flex items-center gap-1.5",children:[T.jsx(hi,{}),"KV"]}),T.jsx(bi,{className:"w-4 h-4"}),T.jsx("span",{className:"flex items-center gap-1.5",children:e})]}),s&&T.jsx("div",{className:"text-danger p-4 bg-danger/8 border border-danger/20 rounded-md mb-4",children:s}),T.jsx(xu,{onSearch:H,disabled:r},e),T.jsx("hr",{className:"border-border my-4"}),T.jsx(Al,{onAdd:O,clearSignal:x}),r?T.jsx("div",{className:"text-center p-12 text-text-secondary",children:"Loading..."}):t.length===0?T.jsx("div",{className:"text-center p-12 text-text-secondary space-y-2 flex flex-col items-center justify-center",children:I?T.jsx("p",{className:"text-sm font-light",children:`No keys found matching prefix "${I}".`}):T.jsxs(T.Fragment,{children:[T.jsx("h2",{className:"text-2xl font-medium",children:"No keys in this namespace"}),T.jsx("p",{className:"text-sm font-light",children:"Add an entry using the form above."})]})}):T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"rounded-lg",children:T.jsx(yu,{entries:t,onSave:S,onDelete:P=>p(P)})}),l&&T.jsx("div",{className:"text-center p-4",children:T.jsx(Xe,{className:"inline-flex items-center justify-center py-2 px-4 text-sm font-medium rounded-md cursor-pointer transition-[background-color,transform] active:translate-y-px bg-bg-tertiary text-text border border-border hover:bg-border data-[disabled]:opacity-60 data-[disabled]:cursor-not-allowed data-[disabled]:active:translate-y-0",onClick:N,disabled:f,focusableWhenDisabled:!0,children:f?"Loading...":"Load More"})})]}),T.jsx(qr,{open:m!==null,onOpenChange:P=>!P&&p(null),children:T.jsxs(oo,{children:[T.jsx(eo,{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[1000] transition-opacity duration-150 data-[starting-style]:opacity-0 data-[ending-style]:opacity-0"}),T.jsxs(ro,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[1001] bg-bg rounded-xl p-6 w-full max-w-[500px] shadow-[0_4px_24px_rgba(0,0,0,0.15),0_0_0_1px_var(--color-border)] transition-[opacity,transform] duration-150 data-[starting-style]:opacity-0 data-[starting-style]:scale-95 data-[ending-style]:opacity-0 data-[ending-style]:scale-95",children:[T.jsx(so,{className:"text-lg font-semibold mb-4",children:"Delete key?"}),T.jsxs(no,{className:"text-text-secondary mb-2",children:["Are you sure you want to delete ",m,"? This cannot be undone."]}),T.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[T.jsx(to,{render:T.jsx(Xe,{className:"inline-flex items-center justify-center py-2 px-4 text-sm font-medium border-none rounded-md cursor-pointer transition-[background-color,transform] active:translate-y-px bg-bg-tertiary text-text border border-border hover:bg-border data-[disabled]:opacity-60 data-[disabled]:cursor-not-allowed data-[disabled]:active:translate-y-0"}),disabled:g,children:"Cancel"}),T.jsx(Xe,{className:"inline-flex items-center justify-center py-2 px-4 text-sm font-medium border-none rounded-md cursor-pointer transition-[background-color,transform] active:translate-y-px bg-danger text-bg-tertiary hover:bg-danger-hover data-[disabled]:opacity-60 data-[disabled]:cursor-not-allowed data-[disabled]:active:translate-y-0",onClick:C,disabled:g,focusableWhenDisabled:!0,children:g?"Deleting...":"Delete"})]})]})]})}),T.jsx(qr,{open:h!==null,onOpenChange:P=>!P&&y(null),children:T.jsxs(oo,{children:[T.jsx(eo,{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[1000] transition-opacity duration-150 data-[starting-style]:opacity-0 data-[ending-style]:opacity-0"}),T.jsxs(ro,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[1001] bg-bg rounded-xl p-6 w-full max-w-[500px] shadow-[0_4px_24px_rgba(0,0,0,0.15),0_0_0_1px_var(--color-border)] transition-[opacity,transform] duration-150 data-[starting-style]:opacity-0 data-[starting-style]:scale-95 data-[ending-style]:opacity-0 data-[ending-style]:scale-95",children:[T.jsx(so,{className:"text-lg font-semibold mb-4",children:"Overwrite key?"}),T.jsxs(no,{className:"text-text-secondary mb-2",children:["Key ",h==null?void 0:h.key," already exists. Do you want to overwrite its value?"]}),T.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[T.jsx(to,{render:T.jsx(Xe,{className:"inline-flex items-center justify-center py-2 px-4 text-sm font-medium border-none rounded-md cursor-pointer transition-[background-color,transform] active:translate-y-px bg-bg-tertiary text-text border border-border hover:bg-border data-[disabled]:opacity-60 data-[disabled]:cursor-not-allowed data-[disabled]:active:translate-y-0"}),disabled:v,children:"Cancel"}),T.jsx(Xe,{className:"inline-flex items-center justify-center py-2 px-4 text-sm font-medium border-none rounded-md cursor-pointer transition-[background-color,transform] active:translate-y-px bg-primary text-bg-tertiary hover:bg-primary-hover data-[disabled]:opacity-60 data-[disabled]:cursor-not-allowed data-[disabled]:active:translate-y-0",onClick:ee,disabled:v,focusableWhenDisabled:!0,children:v?"Overwriting...":"Overwrite"})]})]})]})})]})}export{Ru as component};
